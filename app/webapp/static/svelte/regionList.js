var regionList=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,s;function r(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function $(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t,n){e.classList[n?"add":"remove"](t)}function k(e){s=e}function x(){const e=function(){if(!s)throw new Error("Function called outside component initialization");return s}();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}(t,n,{cancelable:i});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}const L=[],w=[];let S=[];const A=[],_=Promise.resolve();let C=!1;function E(e){S.push(e)}const j=new Set;let V=0;function O(){if(0!==V)return;const e=s;do{try{for(;V<L.length;){const e=L[V];V++,k(e),N(e.$$)}}catch(e){throw L.length=0,V=0,e}for(k(null),L.length=0,V=0;w.length;)w.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];j.has(t)||(j.add(t),t())}S.length=0}while(L.length);for(;A.length;)A.pop()();C=!1,j.clear(),k(e)}function N(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const z=new Set;let T;function H(){T={r:0,c:[],p:T}}function M(){T.r||i(T.c),T=T.p}function P(e,t){e&&e.i&&(z.delete(e),e.i(t))}function I(e,t,n,i){if(e&&e.o){if(z.has(e))return;z.add(e),T.c.push((()=>{z.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}function R(e,t){I(e,1,1,(()=>{t.delete(e.key)}))}function D(e){e&&e.c()}function B(e,n,l,c){const{fragment:s,after_update:r}=e.$$;s&&s.m(n,l),c||E((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):i(n),e.$$.on_mount=[]})),r.forEach(E)}function G(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];S.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),S=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(L.push(e),C||(C=!0,_.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(t,o,l,c,r,a,u,f=[-1]){const g=s;k(t);const p=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||g.$$.root};u&&u(p.root);let m=!1;if(p.ctx=l?l(t,o.props||{},((e,n,...i)=>{const o=i.length?i[0]:n;return p.ctx&&r(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),m&&J(t,e)),n})):[],p.update(),m=!0,i(p.before_update),p.fragment=!!c&&c(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(d)}else p.fragment&&p.fragment.c();o.intro&&P(t.$$.fragment),B(t,o.target,o.anchor,o.customElement),O()}k(g)}class q{$destroy(){G(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(e=null,t="full",n="full"){if(!e)return"https://via.placeholder.com/96x96?text=No+Image";if((e=e.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const i=e[e.length-1].includes(",")?e.pop().replace(".jpg",""):t,o=e.join("_").replace(".jpg","");return`${CANTALOUPE_APP_URL??"http://localhost:8182"}/iiif/2/${o}.jpg/${i}/${n}/0/default.jpg`}function K(e=null,t=1){return`${SAS_APP_URL??"http://localhost:3000"}/index.html?iiif-content=${e}&canvas=${t}`}function Q(e){let t;return{c(){t=p("path"),v(t,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),v(t,"class","svelte-g56uoi")},m(e,n){u(e,t,n)},d(e){e&&d(t)}}}function W(e){let t;return{c(){t=p("path"),v(t,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),v(t,"class","svelte-g56uoi")},m(e,n){u(e,t,n)},d(e){e&&d(t)}}}function X(e){let t,n="en"===e[3]?"Copy ID":"Copier l'ID";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,i){8&i&&n!==(n="en"===e[3]?"Copy ID":"Copier l'ID")&&b(t,n)},d(e){e&&d(t)}}}function Y(e){let t,n="en"===e[3]?"Copied!":"Copié !";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,i){8&i&&n!==(n="en"===e[3]?"Copied!":"Copié !")&&b(t,n)},d(e){e&&d(t)}}}function Z(t){let n,o,l,c,s,f,y,k,x,L,w,S,A,_,C,E,j=t[0].title+"";function V(e,t){return e[2]?W:Q}let O=V(t),N=O(t);function z(e,t){return e[2]?Y:X}let T=z(t),H=T(t);return{c(){n=g("div"),o=g("figure"),l=g("img"),s=h(),f=g("div"),y=g("span"),k=m(j),x=h(),L=g("button"),w=p("svg"),N.c(),S=h(),A=g("span"),H.c(),r(l.src,c=F(t[0].img,t[0].xyhw,"96,"))||v(l,"src",c),v(l,"alt","Extracted region"),v(y,"class","overlay-desc"),v(f,"class","overlay is-center svelte-g56uoi"),v(o,"class","image is-96x96 card svelte-g56uoi"),v(o,"tabindex","-1"),v(w,"xmlns","http://www.w3.org/2000/svg"),v(w,"viewBox","0 0 384 512"),v(w,"class","svelte-g56uoi"),v(A,"class","tooltip svelte-g56uoi"),v(L,"class","button region-btn tag svelte-g56uoi"),v(n,"class",_="region image is-96x96 "+(t[1]?"checked":"")+" svelte-g56uoi")},m(e,i){u(e,n,i),a(n,o),a(o,l),a(o,s),a(o,f),a(f,y),a(y,k),a(n,x),a(n,L),a(L,w),N.m(w,null),a(L,S),a(L,A),H.m(A,null),C||(E=[$(o,"click",t[6]),$(o,"keyup",ee),$(L,"click",t[7])],C=!0)},p(e,[t]){1&t&&!r(l.src,c=F(e[0].img,e[0].xyhw,"96,"))&&v(l,"src",c),1&t&&j!==(j=e[0].title+"")&&b(k,j),O!==(O=V(e))&&(N.d(1),N=O(e),N&&(N.c(),N.m(w,null))),T===(T=z(e))&&H?H.p(e,t):(H.d(1),H=T(e),H&&(H.c(),H.m(A,null))),2&t&&_!==(_="region image is-96x96 "+(e[1]?"checked":"")+" svelte-g56uoi")&&v(n,"class",_)},i:e,o:e,d(e){e&&d(n),N.d(),H.d(),C=!1,i(E)}}}const ee=()=>null;function te(e,t,n){const i=x();let{block:o}=t,{isSelected:l=!1}=t,{isCopied:c=!1}=t,{appLang:s="en"}=t;function r(){i("toggleSelection",{block:o})}function a(){i("copyId",{block:o})}return e.$$set=e=>{"block"in e&&n(0,o=e.block),"isSelected"in e&&n(1,l=e.isSelected),"isCopied"in e&&n(2,c=e.isCopied),"appLang"in e&&n(3,s=e.appLang)},[o,l,c,s,r,a,()=>r(),()=>a()]}class ne extends q{constructor(e){super(),U(this,e,te,Z,l,{block:0,isSelected:1,isCopied:2,appLang:3})}}function ie(e){localStorage.setItem("documentSet",JSON.stringify(e))}function oe(t){let n,i,o,l,c,s,r,f,p,$,k="en"===t[3]?"Selection":"Sélection";return{c(){n=g("div"),i=g("button"),o=g("span"),l=g("i"),c=h(),s=m(k),r=m("\n            ("),f=g("span"),p=m(t[2]),$=m(")"),v(l,"class","fa-solid fa-book-bookmark"),v(f,"id","selection-count"),v(f,"class","svelte-1ifntk3"),v(o,"class","svelte-1ifntk3"),v(i,"id","set-btn"),v(i,"class","button px-5 py-4 is-link js-modal-trigger svelte-1ifntk3"),v(i,"data-target","selection-modal"),y(i,"add-animation",t[0]),y(i,"remove-animation",t[1]),v(n,"class","set-container svelte-1ifntk3")},m(e,t){u(e,n,t),a(n,i),a(i,o),a(o,l),a(o,c),a(o,s),a(o,r),a(o,f),a(f,p),a(o,$)},p(e,[t]){8&t&&k!==(k="en"===e[3]?"Selection":"Sélection")&&b(s,k),4&t&&b(p,e[2]),1&t&&y(i,"add-animation",e[0]),2&t&&y(i,"remove-animation",e[1])},i:e,o:e,d(e){e&&d(n)}}}function le(e,t,n){let{addAnimation:i=!1}=t,{removeAnimation:o=!1}=t,{selectionLength:l=0}=t,{appLang:c="en"}=t;return e.$$set=e=>{"addAnimation"in e&&n(0,i=e.addAnimation),"removeAnimation"in e&&n(1,o=e.removeAnimation),"selectionLength"in e&&n(2,l=e.selectionLength),"appLang"in e&&n(3,c=e.appLang)},[i,o,l,c]}class ce extends q{constructor(e){super(),U(this,e,le,oe,l,{addAnimation:0,removeAnimation:1,selectionLength:2,appLang:3})}}function se(t){let n,o,l,c,s,r,f,p,y,k,x,L="en"===t[0]?"Clear selection":"Vider la sélection",w="en"===t[0]?"Save selection":"Sauvegarder la sélection";return{c(){n=g("footer"),o=g("div"),l=g("button"),c=m(L),s=h(),r=g("button"),f=g("i"),p=h(),y=m(w),v(l,"class","button is-link is-light"),v(f,"class","fa-solid fa-floppy-disk"),v(r,"class","button is-link"),v(o,"class","buttons"),v(n,"class","modal-card-foot is-centered")},m(e,i){u(e,n,i),a(n,o),a(o,l),a(l,c),a(o,s),a(o,r),a(r,f),a(r,p),a(r,y),k||(x=[$(l,"click",t[2]),$(r,"click",t[3])],k=!0)},p(e,[t]){1&t&&L!==(L="en"===e[0]?"Clear selection":"Vider la sélection")&&b(c,L),1&t&&w!==(w="en"===e[0]?"Save selection":"Sauvegarder la sélection")&&b(y,w)},i:e,o:e,d(e){e&&d(n),k=!1,i(x)}}}function re(e,t,n){const i=x();function o(e="save"){i("commitSelection",{updateType:e})}let{appLang:l="en"}=t;return e.$$set=e=>{"appLang"in e&&n(0,l=e.appLang)},[l,o,()=>o("clear"),()=>o("save")]}class ae extends q{constructor(e){super(),U(this,e,re,se,l,{appLang:0})}}function ue(e,t,n){const i=e.slice();return i[23]=t[n][0],i[24]=t[n][1],i}function de(e,t,n){const i=e.slice();return i[27]=t[n],i}function fe(e,t,n){const i=e.slice();return i[30]=t[n][0],i[24]=t[n][1],i}function ge(e){let t;return{c(){t=p("path"),v(t,"d","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"),v(t,"class","svelte-1ig1djz")},m(e,n){u(e,t,n)},d(e){e&&d(t)}}}function pe(e){let t;return{c(){t=p("path"),v(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),v(t,"class","svelte-1ig1djz")},m(e,n){u(e,t,n)},d(e){e&&d(t)}}}function me(e){let t,n="en"===e[2]?"Edit":"Modifier";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,i){4&i[0]&&n!==(n="en"===e[2]?"Edit":"Modifier")&&b(t,n)},d(e){e&&d(t)}}}function he(e){let t,n="en"===e[2]?"Validate":"Valider";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,i){4&i[0]&&n!==(n="en"===e[2]?"Validate":"Valider")&&b(t,n)},d(e){e&&d(t)}}}function $e(e){let t,n,i,o,l,c,s,r,f,p,$,y,k,x,L,w="en"===e[2]?"Reload":"Recharger",S="en"===e[2]?"Go to editor":"Aller à l'éditeur",A="en"===e[2]?"Delete selected regions":"Supprimer les regions selectionnées";return{c(){t=g("button"),n=g("i"),i=h(),o=m(w),l=h(),c=g("a"),s=g("i"),r=h(),f=m(S),$=h(),y=g("button"),k=g("i"),x=h(),L=m(A),v(n,"class","fa-solid fa-rotate-right"),v(t,"class","tag is-link is-light is-rounded mr-3"),v(s,"class","fa-solid fa-edit"),v(c,"class","tag is-link is-rounded mr-3"),v(c,"href",p=K(e[3])),v(c,"target","_blank"),v(k,"class","fa-solid fa-trash"),v(y,"class","tag is-danger is-rounded")},m(e,d){u(e,t,d),a(t,n),a(t,i),a(t,o),u(e,l,d),u(e,c,d),a(c,s),a(c,r),a(c,f),u(e,$,d),u(e,y,d),a(y,k),a(y,x),a(y,L)},p(e,t){4&t[0]&&w!==(w="en"===e[2]?"Reload":"Recharger")&&b(o,w),4&t[0]&&S!==(S="en"===e[2]?"Go to editor":"Aller à l'éditeur")&&b(f,S),8&t[0]&&p!==(p=K(e[3]))&&v(c,"href",p),4&t[0]&&A!==(A="en"===e[2]?"Delete selected regions":"Supprimer les regions selectionnées")&&b(L,A)},d(e){e&&d(t),e&&d(l),e&&d(c),e&&d($),e&&d(y)}}}function ve(e){let t,n,o,l,c,s,r=e[24].text+"";function f(){return e[20](e[30])}return{c(){t=g("li"),n=g("a"),o=m(r),l=h(),y(t,"is-active",e[30]===e[8])},m(e,i){u(e,t,i),a(t,n),a(n,o),a(t,l),c||(s=[$(t,"click",f),$(t,"keyup",je)],c=!0)},p(n,i){e=n,131328&i[0]&&y(t,"is-active",e[30]===e[8])},d(e){e&&d(t),c=!1,i(s)}}}function be(t){let n;return{c(){n=g("div"),n.textContent="tout doux"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}function ye(t){let n;return{c(){n=g("div"),n.textContent="tout doux"},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}function ke(e){let t,n,o,l=[],c=new Map,s=e[1];const r=e=>e[27].id;for(let t=0;t<s.length;t+=1){let n=de(e,s,t),i=r(n);c.set(i,l[t]=Le(i,n))}let f=null;return s.length||(f=xe()),{c(){t=g("div"),n=g("div");for(let e=0;e<l.length;e+=1)l[e].c();f&&f.c(),v(n,"class","grid is-gap-2"),v(t,"class","fixed-grid has-auto-count")},m(e,i){u(e,t,i),a(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(n,null);f&&f.m(n,null),o=!0},p(e,t){99846&t[0]&&(s=e[1],H(),l=function(e,t,n,o,l,c,s,r,a,u,d,f){let g=e.length,p=c.length,m=g;const h={};for(;m--;)h[e[m].key]=m;const $=[],v=new Map,b=new Map,y=[];for(m=p;m--;){const e=f(l,c,m),i=n(e);let r=s.get(i);r?o&&y.push((()=>r.p(e,t))):(r=u(i,e),r.c()),v.set(i,$[m]=r),i in h&&b.set(i,Math.abs(m-h[i]))}const k=new Set,x=new Set;function L(e){P(e,1),e.m(r,d),s.set(e.key,e),d=e.first,p--}for(;g&&p;){const t=$[p-1],n=e[g-1],i=t.key,o=n.key;t===n?(d=t.first,g--,p--):v.has(o)?!s.has(i)||k.has(i)?L(t):x.has(o)?g--:b.get(i)>b.get(o)?(x.add(i),L(t)):(k.add(o),g--):(a(n,s),g--)}for(;g--;){const t=e[g];v.has(t.key)||a(t,s)}for(;p;)L($[p-1]);return i(y),$}(l,t,r,1,e,s,c,n,R,Le,null,de),M(),s.length?f&&(f.d(1),f=null):f||(f=xe(),f.c(),f.m(n,null)))},i(e){if(!o){for(let e=0;e<s.length;e+=1)P(l[e]);o=!0}},o(e){for(let e=0;e<l.length;e+=1)I(l[e]);o=!1},d(e){e&&d(t);for(let e=0;e<l.length;e+=1)l[e].d();f&&f.d()}}}function xe(e){let t;return{c(){t=m("NO ANNOTATION")},m(e,n){u(e,t,n)},d(e){e&&d(t)}}}function Le(e,t){let n,i,o;return i=new ne({props:{block:t[27],appLang:t[2],isSelected:t[10](t[27]),isCopied:t[9](t[27])}}),i.$on("toggleSelection",t[15]),i.$on("copyId",t[16]),{key:e,first:null,c(){n=m(""),D(i.$$.fragment),this.first=n},m(e,t){u(e,n,t),B(i,e,t),o=!0},p(e,n){t=e;const o={};2&n[0]&&(o.block=t[27]),4&n[0]&&(o.appLang=t[2]),1026&n[0]&&(o.isSelected=t[10](t[27])),514&n[0]&&(o.isCopied=t[9](t[27])),i.$set(o)},i(e){o||(P(i.$$.fragment,e),o=!0)},o(e){I(i.$$.fragment,e),o=!1},d(e){e&&d(n),G(i,e)}}}function we(e){let t,n,i="en"===e[2]?"No regions in selection":"Aucune région sélectionnée";return{c(){t=g("div"),n=m(i)},m(e,i){u(e,t,i),a(t,n)},p(e,t){4&t[0]&&i!==(i="en"===e[2]?"No regions in selection":"Aucune région sélectionnée")&&b(n,i)},d(e){e&&d(t)}}}function Se(e){let t,n,i=Object.entries(e[4][e[0]]),o=[];for(let t=0;t<i.length;t+=1)o[t]=Ae(ue(e,i,t));return{c(){t=g("div"),n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();v(n,"class","grid is-gap-2"),v(t,"class","fixed-grid has-6-cols")},m(e,i){u(e,t,i),a(t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,t){if(16401&t[0]){let l;for(i=Object.entries(e[4][e[0]]),l=0;l<i.length;l+=1){const c=ue(e,i,l);o[l]?o[l].p(c,t):(o[l]=Ae(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=i.length}},d(e){e&&d(t),f(o,e)}}}function Ae(e){let t,n,i,o,l,c,s,f,p,y,k,x,L,w=e[24].title+"";function S(){return e[21](e[23])}return{c(){t=g("div"),n=g("figure"),i=g("img"),l=h(),c=g("div"),s=g("span"),f=m(w),p=h(),y=g("button"),k=h(),r(i.src,o=F(e[24].img,e[24].xyhw,"96,"))||v(i,"src",o),v(i,"alt","Extracted region"),v(s,"class","overlay-desc"),v(c,"class","overlay is-center svelte-1ig1djz"),v(n,"class","image is-64x64 card"),v(y,"class","delete region-btn"),v(y,"aria-label","remove from selection"),v(t,"class","selection cell svelte-1ig1djz")},m(e,o){u(e,t,o),a(t,n),a(n,i),a(n,l),a(n,c),a(c,s),a(s,f),a(t,p),a(t,y),a(t,k),x||(L=$(y,"click",S),x=!0)},p(t,n){e=t,16&n[0]&&!r(i.src,o=F(e[24].img,e[24].xyhw,"96,"))&&v(i,"src",o),16&n[0]&&w!==(w=e[24].title+"")&&b(f,w)},d(e){e&&d(t),x=!1,L()}}}function _e(e){let t,n,o,l,c,s,r,y,k,x,L,w,S,A,_,C,E,j,V,O,N,z,T,R,J,U,q,F,K,Q,W,X,Y,Z,ee,te,ne,ie,oe,le,se,re,ue,de,xe,Le,Ae,_e,je,Ve="en"===e[2]?"Select all":"Tout sélectionner",Oe="en"===e[2]?"Download":"Télecharger",Ne="en"===e[2]?"Selected regions":"Regions sélectionnées";function ze(e,t){return e[7]?pe:ge}t=new ce({props:{addAnimation:e[5],removeAnimation:e[6],selectionLength:e[12],appLang:e[2]}});let Te=ze(e),He=Te(e);function Me(e,t){return e[7]?he:me}let Pe=Me(e),Ie=Pe(e),Re=e[7]&&$e(e),De=Object.entries(e[17]),Be=[];for(let t=0;t<De.length;t+=1)Be[t]=ve(fe(e,De,t));const Ge=[ke,ye,be],Je=[];function Ue(e,t){return"all"===e[8]?0:"page"===e[8]?1:"similarity"===e[8]?2:-1}function qe(e,t){return e[11]?Se:we}~(J=Ue(e))&&(U=Je[J]=Ge[J](e));let Fe=qe(e),Ke=Fe(e);return Le=new ae({props:{appLang:e[2]}}),Le.$on("commitSelection",e[13]),{c(){D(t.$$.fragment),n=h(),o=g("div"),l=g("div"),c=g("button"),s=p("svg"),He.c(),r=h(),Ie.c(),k=h(),x=g("button"),L=g("i"),w=h(),S=m(Ve),A=h(),_=g("button"),C=g("i"),E=h(),j=m(Oe),V=h(),O=g("div"),Re&&Re.c(),N=h(),z=g("div"),T=g("ul");for(let e=0;e<Be.length;e+=1)Be[e].c();R=h(),U&&U.c(),q=h(),F=g("div"),K=g("div"),Q=h(),W=g("div"),X=g("div"),Y=g("div"),Z=g("i"),ee=h(),te=m(Ne),ne=m("\n                ("),ie=g("span"),oe=m(e[12]),le=m(")"),se=h(),re=g("button"),ue=h(),de=g("section"),Ke.c(),xe=h(),D(Le.$$.fragment),v(s,"xmlns","http://www.w3.org/2000/svg"),v(s,"viewBox","0 0 384 512"),v(s,"class","pr-3"),v(c,"class",y="button "+(e[7]?"is-success":"is-link")+" mr-3"),v(L,"class","fa-solid fa-square-check"),v(x,"class","button is-link is-light mr-3"),v(C,"class","fa-solid fa-download"),v(_,"class","button is-link is-light"),v(l,"class","svelte-1ig1djz"),v(O,"class","edit-action svelte-1ig1djz"),v(o,"class","is-left actions svelte-1ig1djz"),v(T,"class","panel-tabs"),v(z,"class","tabs is-centered"),v(K,"class","modal-background"),v(Z,"class","fa-solid fa-book-bookmark"),v(ie,"id","selection-count"),v(Y,"class","title is-4 mb-0 media-content"),v(re,"class","delete media-left"),v(re,"aria-label","close"),v(X,"class","modal-card-head media mb-0"),v(de,"class","modal-card-body"),v(W,"class","modal-content"),v(F,"id","selection-modal"),v(F,"class","modal fade"),v(F,"tabindex","-1"),v(F,"aria-labelledby","selection-modal-label"),v(F,"aria-hidden","true")},m(i,d){B(t,i,d),u(i,n,d),u(i,o,d),a(o,l),a(l,c),a(c,s),He.m(s,null),a(c,r),Ie.m(c,null),a(l,k),a(l,x),a(x,L),a(x,w),a(x,S),a(l,A),a(l,_),a(_,C),a(_,E),a(_,j),a(o,V),a(o,O),Re&&Re.m(O,null),u(i,N,d),u(i,z,d),a(z,T);for(let e=0;e<Be.length;e+=1)Be[e]&&Be[e].m(T,null);u(i,R,d),~J&&Je[J].m(i,d),u(i,q,d),u(i,F,d),a(F,K),a(F,Q),a(F,W),a(W,X),a(X,Y),a(Y,Z),a(Y,ee),a(Y,te),a(Y,ne),a(Y,ie),a(ie,oe),a(Y,le),a(X,se),a(X,re),a(W,ue),a(W,de),Ke.m(de,null),a(W,xe),B(Le,W,null),Ae=!0,_e||(je=[$(c,"click",e[19]),$(x,"click",Ce),$(_,"click",Ee)],_e=!0)},p(e,n){const i={};if(32&n[0]&&(i.addAnimation=e[5]),64&n[0]&&(i.removeAnimation=e[6]),4096&n[0]&&(i.selectionLength=e[12]),4&n[0]&&(i.appLang=e[2]),t.$set(i),Te!==(Te=ze(e))&&(He.d(1),He=Te(e),He&&(He.c(),He.m(s,null))),Pe===(Pe=Me(e))&&Ie?Ie.p(e,n):(Ie.d(1),Ie=Pe(e),Ie&&(Ie.c(),Ie.m(c,null))),(!Ae||128&n[0]&&y!==(y="button "+(e[7]?"is-success":"is-link")+" mr-3"))&&v(c,"class",y),(!Ae||4&n[0])&&Ve!==(Ve="en"===e[2]?"Select all":"Tout sélectionner")&&b(S,Ve),(!Ae||4&n[0])&&Oe!==(Oe="en"===e[2]?"Download":"Télecharger")&&b(j,Oe),e[7]?Re?Re.p(e,n):(Re=$e(e),Re.c(),Re.m(O,null)):Re&&(Re.d(1),Re=null),131328&n[0]){let t;for(De=Object.entries(e[17]),t=0;t<De.length;t+=1){const i=fe(e,De,t);Be[t]?Be[t].p(i,n):(Be[t]=ve(i),Be[t].c(),Be[t].m(T,null))}for(;t<Be.length;t+=1)Be[t].d(1);Be.length=De.length}let o=J;J=Ue(e),J===o?~J&&Je[J].p(e,n):(U&&(H(),I(Je[o],1,1,(()=>{Je[o]=null})),M()),~J?(U=Je[J],U?U.p(e,n):(U=Je[J]=Ge[J](e),U.c()),P(U,1),U.m(q.parentNode,q)):U=null),(!Ae||4&n[0])&&Ne!==(Ne="en"===e[2]?"Selected regions":"Regions sélectionnées")&&b(te,Ne),(!Ae||4096&n[0])&&b(oe,e[12]),Fe===(Fe=qe(e))&&Ke?Ke.p(e,n):(Ke.d(1),Ke=Fe(e),Ke&&(Ke.c(),Ke.m(de,null)));const l={};4&n[0]&&(l.appLang=e[2]),Le.$set(l)},i(e){Ae||(P(t.$$.fragment,e),P(U),P(Le.$$.fragment,e),Ae=!0)},o(e){I(t.$$.fragment,e),I(U),I(Le.$$.fragment,e),Ae=!1},d(e){G(t,e),e&&d(n),e&&d(o),He.d(),Ie.d(),Re&&Re.d(),e&&d(N),e&&d(z),f(Be,e),e&&d(R),~J&&Je[J].d(e),e&&d(q),e&&d(F),Ke.d(),G(Le),_e=!1,i(je)}}}const Ce=()=>null,Ee=()=>null,je=()=>null;function Ve(e,t,n){let i,o,l,c,s,r,a,u=!1,d=!1;const f="Regions";let{regions:g=[]}=t,{appLang:p="en"}=t,{manifest:m=""}=t,h=JSON.parse(localStorage.getItem("documentSet"))??{};function $(e){n(4,h=function(e,t,n){const{[t]:i,...o}=e[n];return e[n]=o,ie(e),e}(h,e,f)),n(6,d=!0),setTimeout((()=>n(6,d=!1)),300)}function v(e){n(4,h=function(e,t){return e.hasOwnProperty(t.type)||(e[t.type]=[]),e[t.type]={...e[t.type],[t.id]:t},ie(e),e}(h,e)),n(5,u=!0),setTimeout((()=>n(5,u=!1)),300)}const b={all:{text:"en"===p?"All regions":"Toutes les régions"},page:{text:"en"===p?"Per page":"Par page"},similarity:{text:"en"===p?"Similarity":"Similarité"}};return e.$$set=e=>{"regions"in e&&n(1,g=e.regions),"appLang"in e&&n(2,p=e.appLang),"manifest"in e&&n(3,m=e.manifest)},e.$$.update=()=>{16&e.$$.dirty[0]&&n(12,i=h.hasOwnProperty(f)?Object.keys(h[f]).length:0),16&e.$$.dirty[0]&&n(10,o=e=>h[f]?.hasOwnProperty(e.id)),16&e.$$.dirty[0]&&n(11,l=Object.keys(h[f]??{}).length>0),2&e.$$.dirty[0]&&console.log(g),262144&e.$$.dirty[0]&&n(9,s=e=>c===e.id)},n(18,c=""),n(8,r="all"),n(7,a=!1),[f,g,p,m,h,u,d,a,r,s,o,l,i,function(e){const{updateType:t}=e.detail;"clear"===t?n(4,h=function(e,t){return t.map((t=>!e.hasOwnProperty(t)||delete e[t])),ie(e),e}(h,[f])):"save"===t&&n(4,h=function(e){return console.log(e),e}(h))},$,function(e){const{block:t}=e.detail;o(t)?$(t.id):v(t)},function(e){const{block:t}=e.detail,i=s(t)?"":t.id;navigator.clipboard.writeText(i),n(18,c=i)},b,c,()=>n(7,a=!a),e=>n(8,r=e),e=>$(e)]}const Oe=(Ne="regions-data",document.getElementById(Ne)?JSON.parse(document.getElementById(Ne).textContent):[]);var Ne;return new class extends q{constructor(e){super(),U(this,e,Ve,_e,l,{regionsType:0,regions:1,appLang:2,manifest:3},null,[-1,-1])}get regionsType(){return this.$$.ctx[0]}}({target:document.getElementById("region-list"),props:{regions:Oe,regionsType:"Regions",appLang:APP_LANG,manifest:manifest}})}();
//# sourceMappingURL=regionList.js.map
