var blockList=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,i;function r(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function k(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e,n){t.classList[n?"add":"remove"](e)}function x(t){i=t}function w(){const t=function(){if(!i)throw new Error("Function called outside component initialization");return i}();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=function(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,l,e),o}(e,n,{cancelable:l});return o.slice().forEach((e=>{e.call(t,c)})),!c.defaultPrevented}return!0}}const S=[],_=[];let A=[];const E=[],L=Promise.resolve();let j=!1;function N(t){A.push(t)}const O=new Set;let C=0;function P(){if(0!==C)return;const t=i;do{try{for(;C<S.length;){const t=S[C];C++,x(t),R(t.$$)}}catch(t){throw S.length=0,C=0,t}for(x(null),S.length=0,C=0;_.length;)_.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];O.has(e)||(O.add(e),e())}A.length=0}while(S.length);for(;E.length;)E.pop()();j=!1,O.clear(),x(t)}function R(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const V=new Set;let M;function I(t,e){t&&t.i&&(V.delete(t),t.i(e))}function z(t,e,n,l){if(t&&t.o){if(V.has(t))return;V.add(t),M.c.push((()=>{V.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function B(t,e){z(t,1,1,(()=>{e.delete(t.key)}))}function T(t,n,c,s){const{fragment:i,after_update:r}=t.$$;i&&i.m(n,c),s||N((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),r.forEach(N)}function H(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];A.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),A=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,L.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,o,c,s,r,a,u,f=[-1]){const m=i;x(e);const p=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||m.$$.root};u&&u(p.root);let g=!1;if(p.ctx=c?c(e,o.props||{},((t,n,...l)=>{const o=l.length?l[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),g&&J(e,t)),n})):[],p.update(),g=!0,l(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();o.intro&&I(e.$$.fragment),T(e,o.target,o.anchor,o.customElement),P()}x(m)}class U{$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function q(t=null,e="full",n="full"){if(!t)return"https://via.placeholder.com/96x96?text=No+Image";if((t=t.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const l=t[t.length-1].includes(",")?t.pop().replace(".jpg",""):e,o=t.join("_").replace(".jpg","");return`${CANTALOUPE_APP_URL??"http://localhost:8182"}/iiif/2/${o}.jpg/${l}/${n}/0/default.jpg`}function F(t){return document.getElementById(t)?JSON.parse(document.getElementById(t).textContent):[]}function G(t,e,n){const l=t.slice();return l[7]=e[n][0],l[8]=e[n][1],l}function K(t){let e,n,l,o,c,s,i,f,p;function g(t,e){return t[2]?X:W}let b=g(t),y=b(t);return{c(){e=m("div"),n=m("figure"),l=m("img"),s=h(),i=m("button"),y.c(),r(l.src,o=q(t[0].img,"full","250,"))||$(l,"src",o),$(l,"alt","Extracted region"),$(n,"id",c="region-"+t[0].id),$(n,"class","image is-96x96"),$(i,"class","button"),$(e,"class","region block card")},m(o,c){u(o,e,c),a(e,n),a(n,l),a(e,s),a(e,i),y.m(i,null),f||(p=k(i,"click",t[5]),f=!0)},p(t,e){1&e&&!r(l.src,o=q(t[0].img,"full","250,"))&&$(l,"src",o),1&e&&c!==(c="region-"+t[0].id)&&$(n,"id",c),b===(b=g(t))&&y?y.p(t,e):(y.d(1),y=b(t),y&&(y.c(),y.m(i,null)))},d(t){t&&d(e),y.d(),f=!1,p()}}}function Q(t){let e,n,l,o,c,s,i,b,v,x,w,S,_,A,E,L,j,N,O,C,P,R,V,M,I,z,B,T,H,J,D,U,F,K,Q,W,X,tt,et,it=t[0].type+"",rt=t[0].id+"",at=t[0].title+"",ut=t[0].user+"",dt=t[0].updated_at+"",ft=t[0].is_public&&Y(),mt=0!==t[0].buttons.length&&Z(t);function pt(t,e){return"en"===t[1]?lt:nt}let gt=pt(t),ht=gt(t);function bt(t,e){return t[2]?ct:ot}let kt=bt(t),$t=kt(t),yt=Object.entries(t[0].metadata),vt=[];for(let e=0;e<yt.length;e+=1)vt[e]=st(G(t,yt,e));return{c(){e=m("div"),n=m("div"),l=m("div"),o=m("div"),c=m("div"),s=m("figure"),i=m("img"),v=h(),x=m("div"),w=m("a"),S=m("span"),_=g(it),A=g(" #"),E=g(rt),L=h(),j=g(at),N=h(),ft&&ft.c(),C=h(),P=m("p"),R=g(ut),V=h(),M=m("span"),I=g(dt),z=h(),mt&&mt.c(),B=h(),T=m("div"),H=m("button"),ht.c(),J=h(),D=p("svg"),$t.c(),F=h(),K=m("div"),Q=m("table"),W=m("tbody");for(let t=0;t<vt.length;t+=1)vt[t].c();r(i.src,b=q(t[0].img,"full","250,"))||$(i,"src",b),$(i,"alt","Record illustration"),$(s,"class","card image is-96x96 svelte-alck8k"),$(c,"class","media-left"),$(S,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),$(w,"href",O=t[0].url),$(w,"class","title is-4 hoverable pt-2 svelte-alck8k"),$(M,"class","tag p-1 mb-1"),$(P,"class","subtitle is-6 mb-0 ml-2 pt-2"),$(x,"class","media-content"),$(D,"xmlns","http://www.w3.org/2000/svg"),$(D,"viewBox","0 0 384 512"),$(D,"class","svelte-alck8k"),$(H,"class",U="button "+(t[2]?"is-inverted":"")),$(T,"class","media-right"),$(o,"class","media"),$(Q,"class","table pl-2 is-fullwidth"),$(K,"class","content"),$(l,"class","card-content"),$(n,"id",X="block-"+t[0].id),$(n,"class","card"),$(e,"class","block")},m(r,d){u(r,e,d),a(e,n),a(n,l),a(l,o),a(o,c),a(c,s),a(s,i),a(o,v),a(o,x),a(x,w),a(w,S),a(S,_),a(S,A),a(S,E),a(w,L),a(w,j),a(w,N),ft&&ft.m(w,null),a(x,C),a(x,P),a(P,R),a(P,V),a(P,M),a(M,I),a(x,z),mt&&mt.m(x,null),a(o,B),a(o,T),a(T,H),ht.m(H,null),a(H,J),a(H,D),$t.m(D,null),a(l,F),a(l,K),a(K,Q),a(Q,W);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(W,null);tt||(et=k(H,"click",t[4]),tt=!0)},p(t,e){if(1&e&&!r(i.src,b=q(t[0].img,"full","250,"))&&$(i,"src",b),1&e&&it!==(it=t[0].type+"")&&y(_,it),1&e&&rt!==(rt=t[0].id+"")&&y(E,rt),1&e&&at!==(at=t[0].title+"")&&y(j,at),t[0].is_public?ft||(ft=Y(),ft.c(),ft.m(w,null)):ft&&(ft.d(1),ft=null),1&e&&O!==(O=t[0].url)&&$(w,"href",O),1&e&&ut!==(ut=t[0].user+"")&&y(R,ut),1&e&&dt!==(dt=t[0].updated_at+"")&&y(I,dt),0!==t[0].buttons.length?mt?mt.p(t,e):(mt=Z(t),mt.c(),mt.m(x,null)):mt&&(mt.d(1),mt=null),gt===(gt=pt(t))&&ht?ht.p(t,e):(ht.d(1),ht=gt(t),ht&&(ht.c(),ht.m(H,J))),kt!==(kt=bt(t))&&($t.d(1),$t=kt(t),$t&&($t.c(),$t.m(D,null))),4&e&&U!==(U="button "+(t[2]?"is-inverted":""))&&$(H,"class",U),1&e){let n;for(yt=Object.entries(t[0].metadata),n=0;n<yt.length;n+=1){const l=G(t,yt,n);vt[n]?vt[n].p(l,e):(vt[n]=st(l),vt[n].c(),vt[n].m(W,null))}for(;n<vt.length;n+=1)vt[n].d(1);vt.length=yt.length}1&e&&X!==(X="block-"+t[0].id)&&$(n,"id",X)},d(t){t&&d(e),ft&&ft.d(),mt&&mt.d(),ht.d(),$t.d(),f(vt,t),tt=!1,et()}}}function W(t){let e,n,l,o="en"===t[1]?"Add to set":"Ajouter à la sélection";return{c(){e=m("i"),n=h(),l=g(o),$(e,"class","fa-regular fa-bookmark")},m(t,o){u(t,e,o),u(t,n,o),u(t,l,o)},p(t,e){2&e&&o!==(o="en"===t[1]?"Add to set":"Ajouter à la sélection")&&y(l,o)},d(t){t&&d(e),t&&d(n),t&&d(l)}}}function X(t){let e,n,l,o="en"===t[1]?"Remove from set":"Retirer de la sélection";return{c(){e=m("i"),n=h(),l=g(o),$(e,"class","fa-solid fa-bookmark")},m(t,o){u(t,e,o),u(t,n,o),u(t,l,o)},p(t,e){2&e&&o!==(o="en"===t[1]?"Remove from set":"Retirer de la sélection")&&y(l,o)},d(t){t&&d(e),t&&d(n),t&&d(l)}}}function Y(t){let e;return{c(){e=m("span"),e.innerHTML='<span class="icon has-text-success"><i class="fas fa-check-circle"></i></span> \n                                    <span style="margin-left: -0.5rem">Public</span>',$(e,"class","pl-3 icon-text is-size-7 is-center has-text-weight-normal")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function Z(t){let e,n,l=t[0].buttons.includes("regions"),o=t[0].buttons.includes("similarity"),c=l&&tt(t),s=o&&et(t);return{c(){e=m("p"),c&&c.c(),n=h(),s&&s.c(),$(e,"class","subtitle is-6 mb-0 ml-2 pt-2")},m(t,l){u(t,e,l),c&&c.m(e,null),a(e,n),s&&s.m(e,null)},p(t,i){1&i&&(l=t[0].buttons.includes("regions")),l?c?c.p(t,i):(c=tt(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),1&i&&(o=t[0].buttons.includes("similarity")),o?s?s.p(t,i):(s=et(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&d(e),c&&c.d(),s&&s.d()}}}function tt(t){let e,n,l,o;return{c(){e=m("a"),n=m("span"),$(n,"class","iconify"),$(n,"data-icon","entypo:documents"),$(e,"href",l=t[0].url+"regions/"),$(e,"class","button is-small is-rounded is-link px-2"),$(e,"title",o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"regions/")&&$(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")&&$(e,"title",o)},d(t){t&&d(e)}}}function et(t){let e,n,l,o;return{c(){e=m("a"),n=m("span"),$(n,"class","iconify"),$(n,"data-icon","octicon:mirror-16"),$(e,"href",l=t[0].url+"similarity/"),$(e,"class","button is-small is-rounded is-link px-2"),$(e,"title",o="en"===t[1]?"Show similarity":"Afficher les similarités")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"similarity/")&&$(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show similarity":"Afficher les similarités")&&$(e,"title",o)},d(t){t&&d(e)}}}function nt(t){let e,n,l=t[2]?"Retirer de":"Ajouter à la";return{c(){e=g(l),n=g(" sélection")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Retirer de":"Ajouter à la")&&y(e,l)},d(t){t&&d(e),t&&d(n)}}}function lt(t){let e,n,l=t[2]?"Remove from":"Add to";return{c(){e=g(l),n=g(" set")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Remove from":"Add to")&&y(e,l)},d(t){t&&d(e),t&&d(n)}}}function ot(t){let e;return{c(){e=p("path"),$(e,"fill","currentColor"),$(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function ct(t){let e;return{c(){e=p("path"),$(e,"fill","currentColor"),$(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function st(t){let e,n,l,o,c,s,i,r=t[7]+"",f=t[8]+"";return{c(){e=m("tr"),n=m("th"),l=g(r),o=h(),c=m("td"),s=g(f),i=h(),$(n,"class","is-narrow is-3")},m(t,r){u(t,e,r),a(e,n),a(n,l),a(e,o),a(e,c),a(c,s),a(e,i)},p(t,e){1&e&&r!==(r=t[7]+"")&&y(l,r),1&e&&f!==(f=t[8]+"")&&y(s,f)},d(t){t&&d(e)}}}function it(e){let n,l;function o(t,e){return 1&e&&(n=null),null==n&&(n=!!t[0].hasOwnProperty("metadata")),n?Q:K}let c=o(e,-1),s=c(e);return{c(){s.c(),l=b()},m(t,e){s.m(t,e),u(t,l,e)},p(t,[e]){c===(c=o(t,e))&&s?s.p(t,e):(s.d(1),s=c(t),s&&(s.c(),s.m(l.parentNode,l)))},i:t,o:t,d(t){s.d(t),t&&d(l)}}}function rt(t,e,n){let{block:l}=e,{appLang:o}=e,{isSelected:c=!1}=e;const s=w();function i(t){s("toggleSelection",{block:t})}return t.$$set=t=>{"block"in t&&n(0,l=t.block),"appLang"in t&&n(1,o=t.appLang),"isSelected"in t&&n(2,c=t.isSelected)},[l,o,c,i,()=>i(l),()=>i(l)]}class at extends U{constructor(t){super(),D(this,t,rt,it,c,{block:0,appLang:1,isSelected:2})}}function ut(t,e,n){const l=t.slice();return l[14]=e[n][0],l[15]=e[n][1],l}function dt(t,e,n){const l=t.slice();return l[18]=e[n],l}function ft(t,e){let n,l,o;return l=new at({props:{block:e[18],appLang:e[1],isSelected:e[5](e[18])}}),l.$on("toggleSelection",e[10]),{key:t,first:null,c(){n=b(),function(t){t&&t.c()}(l.$$.fragment),this.first=n},m(t,e){u(t,n,e),T(l,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.block=e[18]),2&n&&(o.appLang=e[1]),33&n&&(o.isSelected=e[5](e[18])),l.$set(o)},i(t){o||(I(l.$$.fragment,t),o=!0)},o(t){z(l.$$.fragment,t),o=!1},d(t){t&&d(n),H(l,t)}}}function mt(t){let e,n,l,o,c="en"===t[1]?"No documents in selection":"Aucun document sélectionné";return{c(){e=m("tr"),n=m("td"),l=g(c),o=h()},m(t,c){u(t,e,c),a(e,n),a(n,l),a(e,o)},p(t,e){2&e&&c!==(c="en"===t[1]?"No documents in selection":"Aucun document sélectionné")&&y(l,c)},d(t){t&&d(e)}}}function pt(t){let e,n,l,o,c,s,i,r,f,p,b,v,x,w,S,_,A=t[14]+"",E=t[15].title+"";function L(){return t[11](t[14])}return{c(){e=m("tr"),n=m("th"),l=m("span"),o=g("#"),c=g(A),s=h(),i=m("td"),r=m("a"),f=g(E),b=h(),v=m("td"),x=m("button"),w=h(),$(l,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),$(n,"class","is-narrow is-3"),$(r,"href",p="/"+t[15].url),$(r,"target","_blank"),$(x,"class","delete"),$(x,"aria-label","close"),$(v,"class","is-narrow")},m(t,d){u(t,e,d),a(e,n),a(n,l),a(l,o),a(l,c),a(e,s),a(e,i),a(i,r),a(r,f),a(e,b),a(e,v),a(v,x),a(e,w),S||(_=k(x,"click",L),S=!0)},p(e,n){t=e,4&n&&A!==(A=t[14]+"")&&y(c,A),4&n&&E!==(E=t[15].title+"")&&y(f,E),4&n&&p!==(p="/"+t[15].url)&&$(r,"href",p)},d(t){t&&d(e),S=!1,_()}}}function gt(t){let e,n,o,c,s,i,r,p,b,x,w,S,_,A,E,L,j,N,O,C,P,R,V,T,H,J,D,U,q,F,G,K,Q,W,X,Y,Z,tt,et,nt,lt,ot,ct,st,it,rt="en"===t[1]?"Selection":"Sélection",at=[],gt=new Map,ht="en"===t[1]?"Selected documents":"Documents sélectionnés",bt="en"===t[1]?"Clear selection":"Vider la sélection",kt="en"===t[1]?"Save selection":"Sauvegarder la sélection",$t=t[0];const yt=t=>t[18].id;for(let e=0;e<$t.length;e+=1){let n=dt(t,$t,e),l=yt(n);gt.set(l,at[e]=ft(l,n))}let vt=Object.entries(t[2]),xt=[];for(let e=0;e<vt.length;e+=1)xt[e]=pt(ut(t,vt,e));let wt=null;return vt.length||(wt=mt(t)),{c(){e=m("div"),n=m("button"),o=m("span"),c=m("i"),s=h(),i=g(rt),r=g("\n            ("),p=m("span"),b=g(t[6]),x=g(")"),w=h(),S=m("div");for(let t=0;t<at.length;t+=1)at[t].c();_=h(),A=m("div"),E=m("div"),L=h(),j=m("div"),N=m("div"),O=m("div"),C=m("i"),P=h(),R=g(ht),V=g("\n                ("),T=m("span"),H=g(t[6]),J=g(")"),D=h(),U=m("button"),q=h(),F=m("section"),G=m("table"),K=m("tbody");for(let t=0;t<xt.length;t+=1)xt[t].c();wt&&wt.c(),Q=h(),W=m("footer"),X=m("div"),Y=m("button"),Z=g(bt),tt=h(),et=m("button"),nt=m("i"),lt=h(),ot=g(kt),$(c,"class","fa-solid fa-book-bookmark"),$(p,"id","selection-count"),$(p,"class","svelte-1ifntk3"),$(o,"class","svelte-1ifntk3"),$(n,"id","set-btn"),$(n,"class","button px-5 py-4 is-link js-modal-trigger svelte-1ifntk3"),$(n,"data-target","selection-modal"),v(n,"add-animation",t[3]),v(n,"remove-animation",t[4]),$(e,"class","set-container svelte-1ifntk3"),$(E,"class","modal-background"),$(C,"class","fa-solid fa-book-bookmark"),$(T,"id","selection-count"),$(O,"class","title is-4 mb-0 media-content"),$(U,"class","delete media-left"),$(U,"aria-label","close"),$(N,"class","modal-card-head media mb-0"),$(G,"class","table pl-2 is-fullwidth"),$(F,"class","modal-card-body"),$(Y,"class","button is-link is-light"),$(nt,"class","fa-solid fa-floppy-disk"),$(et,"class","button is-link"),$(X,"class","buttons"),$(W,"class","modal-card-foot is-centered"),$(j,"class","modal-content"),$(A,"id","selection-modal"),$(A,"class","modal fade"),$(A,"tabindex","-1"),$(A,"aria-labelledby","selection-modal-label"),$(A,"aria-hidden","true")},m(l,d){u(l,e,d),a(e,n),a(n,o),a(o,c),a(o,s),a(o,i),a(o,r),a(o,p),a(p,b),a(o,x),u(l,w,d),u(l,S,d);for(let t=0;t<at.length;t+=1)at[t]&&at[t].m(S,null);u(l,_,d),u(l,A,d),a(A,E),a(A,L),a(A,j),a(j,N),a(N,O),a(O,C),a(O,P),a(O,R),a(O,V),a(O,T),a(T,H),a(O,J),a(N,D),a(N,U),a(j,q),a(j,F),a(F,G),a(G,K);for(let t=0;t<xt.length;t+=1)xt[t]&&xt[t].m(K,null);wt&&wt.m(K,null),a(j,Q),a(j,W),a(W,X),a(X,Y),a(Y,Z),a(X,tt),a(X,et),a(et,nt),a(et,lt),a(et,ot),ct=!0,st||(it=[k(Y,"click",t[8]),k(et,"click",t[7])],st=!0)},p(t,[e]){if((!ct||2&e)&&rt!==(rt="en"===t[1]?"Selection":"Sélection")&&y(i,rt),(!ct||64&e)&&y(b,t[6]),(!ct||8&e)&&v(n,"add-animation",t[3]),(!ct||16&e)&&v(n,"remove-animation",t[4]),1059&e&&($t=t[0],M={r:0,c:[],p:M},at=function(t,e,n,o,c,s,i,r,a,u,d,f){let m=t.length,p=s.length,g=m;const h={};for(;g--;)h[t[g].key]=g;const b=[],k=new Map,$=new Map,y=[];for(g=p;g--;){const t=f(c,s,g),l=n(t);let r=i.get(l);r?o&&y.push((()=>r.p(t,e))):(r=u(l,t),r.c()),k.set(l,b[g]=r),l in h&&$.set(l,Math.abs(g-h[l]))}const v=new Set,x=new Set;function w(t){I(t,1),t.m(r,d),i.set(t.key,t),d=t.first,p--}for(;m&&p;){const e=b[p-1],n=t[m-1],l=e.key,o=n.key;e===n?(d=e.first,m--,p--):k.has(o)?!i.has(l)||v.has(l)?w(e):x.has(o)?m--:$.get(l)>$.get(o)?(x.add(l),w(e)):(v.add(o),m--):(a(n,i),m--)}for(;m--;){const e=t[m];k.has(e.key)||a(e,i)}for(;p;)w(b[p-1]);return l(y),b}(at,e,yt,1,t,$t,gt,S,B,ft,null,dt),M.r||l(M.c),M=M.p),(!ct||2&e)&&ht!==(ht="en"===t[1]?"Selected documents":"Documents sélectionnés")&&y(R,ht),(!ct||64&e)&&y(H,t[6]),518&e){let n;for(vt=Object.entries(t[2]),n=0;n<vt.length;n+=1){const l=ut(t,vt,n);xt[n]?xt[n].p(l,e):(xt[n]=pt(l),xt[n].c(),xt[n].m(K,null))}for(;n<xt.length;n+=1)xt[n].d(1);xt.length=vt.length,!vt.length&&wt?wt.p(t,e):vt.length?wt&&(wt.d(1),wt=null):(wt=mt(t),wt.c(),wt.m(K,null))}(!ct||2&e)&&bt!==(bt="en"===t[1]?"Clear selection":"Vider la sélection")&&y(Z,bt),(!ct||2&e)&&kt!==(kt="en"===t[1]?"Save selection":"Sauvegarder la sélection")&&y(ot,kt)},i(t){if(!ct){for(let t=0;t<$t.length;t+=1)I(at[t]);ct=!0}},o(t){for(let t=0;t<at.length;t+=1)z(at[t]);ct=!1},d(t){t&&d(e),t&&d(w),t&&d(S);for(let t=0;t<at.length;t+=1)at[t].d();t&&d(_),t&&d(A),f(xt,t),wt&&wt.d(),st=!1,l(it)}}}function ht(t,e,n){let l,o,{blocks:c=[]}=e,{appLang:s="en"}=e,i=!1,r=!1,a=JSON.parse(localStorage.getItem("documentSet"))??{};function u(){localStorage.setItem("documentSet",JSON.stringify(a))}function d(t){const{[t]:e,...l}=a;n(2,a=l),n(4,r=!0),setTimeout((()=>n(4,r=!1)),300),u()}return t.$$set=t=>{"blocks"in t&&n(0,c=t.blocks),"appLang"in t&&n(1,s=t.appLang)},t.$$.update=()=>{4&t.$$.dirty&&n(6,l=Object.keys(a).length),4&t.$$.dirty&&n(5,o=t=>a.hasOwnProperty(t.id)),1&t.$$.dirty&&console.log(c)},[c,s,a,i,r,o,l,function(){console.log(a)},function(){n(2,a={}),u()},d,function(t){const{block:e}=t.detail;o(e)?d(e.id):function(t){n(2,a={...a,[t.id]:t}),n(3,i=!0),setTimeout((()=>n(3,i=!1)),300),u()}(e)},t=>d(t)]}const bt=F("record-data"),kt=F("regions-data"),$t=bt.concat(kt);APP_LANG;return new class extends U{constructor(t){super(),D(this,t,ht,gt,c,{blocks:0,appLang:1})}}({target:document.getElementById("block-list"),props:{blocks:$t}})}();
//# sourceMappingURL=blockList.js.map
