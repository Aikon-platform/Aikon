var blockList=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function c(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,s;function r(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function $(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e,n){t.classList[n?"add":"remove"](e)}function w(t){s=t}function x(){const t=function(){if(!s)throw new Error("Function called outside component initialization");return s}();return(e,n,{cancelable:l=!1}={})=>{const c=t.$$.callbacks[e];if(c){const o=function(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(t,n,l,e),c}(e,n,{cancelable:l});return c.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const S=[],_=[];let L=[];const E=[],O=Promise.resolve();let j=!1;function A(t){L.push(t)}const C=new Set;let N=0;function V(){if(0!==N)return;const t=s;do{try{for(;N<S.length;){const t=S[N];N++,w(t),P(t.$$)}}catch(t){throw S.length=0,N=0,t}for(w(null),S.length=0,N=0;_.length;)_.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];C.has(e)||(C.add(e),e())}L.length=0}while(S.length);for(;E.length;)E.pop()();j=!1,C.clear(),w(t)}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const M=new Set;let z;function H(){z={r:0,c:[],p:z}}function I(){z.r||l(z.c),z=z.p}function T(t,e){t&&t.i&&(M.delete(t),t.i(e))}function B(t,e,n,l){if(t&&t.o){if(M.has(t))return;M.add(t),z.c.push((()=>{M.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function R(t,e){B(t,1,1,(()=>{e.delete(t.key)}))}function q(t){t&&t.c()}function J(t,n,o,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(n,o),i||A((()=>{const n=t.$$.on_mount.map(e).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),r.forEach(A)}function D(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];L.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),L=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,O.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,c,o,i,r,a,u,f=[-1]){const p=s;w(e);const m=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:c.target||p.$$.root};u&&u(m.root);let g=!1;if(m.ctx=o?o(e,c.props||{},((t,n,...l)=>{const c=l.length?l[0]:n;return m.ctx&&r(m.ctx[t],m.ctx[t]=c)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](c),g&&U(e,t)),n})):[],m.update(),g=!0,l(m.before_update),m.fragment=!!i&&i(m.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();c.intro&&T(e.$$.fragment),J(e,c.target,c.anchor,c.customElement),V()}w(p)}class G{$destroy(){D(this,1),this.$destroy=t}$on(e,n){if(!c(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t=null,e="full",n="full"){if(!t)return"https://via.placeholder.com/96x96?text=No+Image";if((t=t.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const l=t[t.length-1].includes(",")?t.pop().replace(".jpg",""):e,c=t.join("_").replace(".jpg","");return`${CANTALOUPE_APP_URL??"http://localhost:8182"}/iiif/2/${c}.jpg/${l}/${n}/0/default.jpg`}function Q(t){return document.getElementById(t)?JSON.parse(document.getElementById(t).textContent):[]}function W(t){let e;return{c(){e=m("path"),k(e,"fill","currentColor"),k(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function X(t){let e;return{c(){e=m("path"),k(e,"fill","currentColor"),k(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function Y(e){let n,l,c,o,i,s,f,g,b,y;function v(t,e){return t[1]?X:W}let w=v(e),x=w(e);return{c(){n=p("div"),l=p("figure"),c=p("img"),s=h(),f=p("button"),g=m("svg"),x.c(),r(c.src,o=K(e[0].img,e[0].xyhw,"250,"))||k(c,"src",o),k(c,"alt","Extracted region"),k(l,"id",i="region-"+e[0].id),k(l,"class","image is-96x96"),k(g,"xmlns","http://www.w3.org/2000/svg"),k(g,"viewBox","0 0 384 512"),k(g,"class","svelte-k86ssz"),k(f,"class","button check-btn tag"),k(n,"class","region block card")},m(t,o){u(t,n,o),a(n,l),a(l,c),a(n,s),a(n,f),a(f,g),x.m(g,null),b||(y=$(f,"click",e[3]),b=!0)},p(t,[e]){1&e&&!r(c.src,o=K(t[0].img,t[0].xyhw,"250,"))&&k(c,"src",o),1&e&&i!==(i="region-"+t[0].id)&&k(l,"id",i),w!==(w=v(t))&&(x.d(1),x=w(t),x&&(x.c(),x.m(g,null)))},i:t,o:t,d(t){t&&d(n),x.d(),b=!1,y()}}}function Z(t,e,n){const l=x();function c(t){l("toggleSelection",{block:t})}let{block:o}=e,{isSelected:i=!1}=e;return t.$$set=t=>{"block"in t&&n(0,o=t.block),"isSelected"in t&&n(1,i=t.isSelected)},[o,i,c,()=>c(o)]}class tt extends G{constructor(t){super(),F(this,t,Z,Y,o,{block:0,isSelected:1})}}function et(t,e,n){const l=t.slice();return l[6]=e[n][0],l[7]=e[n][1],l}function nt(t,e,n){const l=t.slice();return l[10]=e[n],l}function lt(t){let e;return{c(){e=p("span"),e.innerHTML='<span class="icon has-text-success"><i class="fas fa-check-circle"></i></span> \n                                <span style="margin-left: -0.5rem">Public</span>',k(e,"class","pl-3 icon-text is-size-7 is-center has-text-weight-normal")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function ct(t){let e,n,l,c=t[0].hasOwnProperty("iiif"),o=t[0].buttons.includes("regions"),i=t[0].buttons.includes("similarity"),s=c&&ot(t),r=o&&st(t),f=i&&rt(t);return{c(){e=p("p"),s&&s.c(),n=h(),r&&r.c(),l=h(),f&&f.c(),k(e,"class","subtitle is-6 mb-0 ml-2 pt-2")},m(t,c){u(t,e,c),s&&s.m(e,null),a(e,n),r&&r.m(e,null),a(e,l),f&&f.m(e,null)},p(t,a){1&a&&(c=t[0].hasOwnProperty("iiif")),c?s?s.p(t,a):(s=ot(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),1&a&&(o=t[0].buttons.includes("regions")),o?r?r.p(t,a):(r=st(t),r.c(),r.m(e,l)):r&&(r.d(1),r=null),1&a&&(i=t[0].buttons.includes("similarity")),i?f?f.p(t,a):(f=rt(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(t){t&&d(e),s&&s.d(),r&&r.d(),f&&f.d()}}}function ot(t){let e,n=t[0].iiif,l=[];for(let e=0;e<n.length;e+=1)l[e]=it(nt(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=b()},m(t,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,n);u(t,e,n)},p(t,c){if(1&c){let o;for(n=t[0].iiif,o=0;o<n.length;o+=1){const i=nt(t,n,o);l[o]?l[o].p(i,c):(l[o]=it(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){f(l,t),t&&d(e)}}}function it(t){let e,n=t[10]+"";return{c(){e=p("span"),k(e,"class","tag logo mt-1")},m(t,l){u(t,e,l),e.innerHTML=n},p(t,l){1&l&&n!==(n=t[10]+"")&&(e.innerHTML=n)},d(t){t&&d(e)}}}function st(t){let e,n,l,c;return{c(){e=p("a"),n=p("span"),k(n,"class","iconify"),k(n,"data-icon","entypo:documents"),k(e,"href",l=t[0].url+"regions/"),k(e,"class","button is-small is-rounded is-link px-2"),k(e,"title",c="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"regions/")&&k(e,"href",l),2&n&&c!==(c="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")&&k(e,"title",c)},d(t){t&&d(e)}}}function rt(t){let e,n,l,c;return{c(){e=p("a"),n=p("span"),k(n,"class","iconify"),k(n,"data-icon","octicon:mirror-16"),k(e,"href",l=t[0].url+"similarity/"),k(e,"class","button is-small is-rounded is-link px-2"),k(e,"title",c="en"===t[1]?"Show similarity":"Afficher les similarités")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"similarity/")&&k(e,"href",l),2&n&&c!==(c="en"===t[1]?"Show similarity":"Afficher les similarités")&&k(e,"title",c)},d(t){t&&d(e)}}}function at(t){let e,n,l=t[2]?"Retirer de":"Ajouter à la";return{c(){e=g(l),n=g(" sélection")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Retirer de":"Ajouter à la")&&y(e,l)},d(t){t&&d(e),t&&d(n)}}}function ut(t){let e,n,l=t[2]?"Remove from":"Add to";return{c(){e=g(l),n=g(" set")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Remove from":"Add to")&&y(e,l)},d(t){t&&d(e),t&&d(n)}}}function dt(t){let e;return{c(){e=m("path"),k(e,"fill","currentColor"),k(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function ft(t){let e;return{c(){e=m("path"),k(e,"fill","currentColor"),k(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function pt(t){let e,n,l,c,o,i,s,r=t[6]+"",f=t[7]+"";return{c(){e=p("tr"),n=p("th"),l=g(r),c=h(),o=p("td"),i=g(f),s=h(),k(n,"class","is-narrow is-3")},m(t,r){u(t,e,r),a(e,n),a(n,l),a(e,c),a(e,o),a(o,i),a(e,s)},p(t,e){1&e&&r!==(r=t[6]+"")&&y(l,r),1&e&&f!==(f=t[7]+"")&&y(i,f)},d(t){t&&d(e)}}}function mt(e){let n,l,c,o,i,s,b,v,w,x,S,_,L,E,O,j,A,C,N,V,P,M,z,H,I,T,B,R,q,J,D,U,F,G,Q,W,X,Y,Z,tt=e[0].type+"",nt=e[0].id+"",ot=e[0].title+"",it=e[0].user+"",st=e[0].updated_at+"",rt=e[0].is_public&&lt(),mt=0!==e[0].buttons.length&&ct(e);function gt(t,e){return"en"===t[1]?ut:at}let ht=gt(e),bt=ht(e);function $t(t,e){return t[2]?ft:dt}let kt=$t(e),yt=kt(e),vt=Object.entries(e[0].metadata),wt=[];for(let t=0;t<vt.length;t+=1)wt[t]=pt(et(e,vt,t));return{c(){n=p("div"),l=p("div"),c=p("div"),o=p("div"),i=p("div"),s=p("figure"),b=p("img"),w=h(),x=p("div"),S=p("a"),_=p("span"),L=g(tt),E=g(" #"),O=g(nt),j=h(),A=g(ot),C=h(),rt&&rt.c(),V=h(),P=p("p"),M=g(it),z=h(),H=p("span"),I=g(st),T=h(),mt&&mt.c(),B=h(),R=p("div"),q=p("button"),bt.c(),J=h(),D=m("svg"),yt.c(),F=h(),G=p("div"),Q=p("table"),W=p("tbody");for(let t=0;t<wt.length;t+=1)wt[t].c();r(b.src,v=K(e[0].img,"full","250,"))||k(b,"src",v),k(b,"alt","Record illustration"),k(s,"class","card image is-96x96 svelte-xqp9nk"),k(i,"class","media-left"),k(_,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),k(S,"href",N=e[0].url),k(S,"class","title is-4 hoverable pt-2 svelte-xqp9nk"),k(H,"class","tag p-1 mb-1"),k(P,"class","subtitle is-6 mb-0 ml-2 pt-2"),k(x,"class","media-content"),k(D,"xmlns","http://www.w3.org/2000/svg"),k(D,"viewBox","0 0 384 512"),k(D,"class","svelte-xqp9nk"),k(q,"class",U="button "+(e[2]?"is-inverted":"")),k(R,"class","media-right"),k(o,"class","media"),k(Q,"class","table pl-2 is-fullwidth"),k(G,"class","content"),k(c,"class","card-content"),k(l,"id",X="block-"+e[0].id),k(l,"class","card"),k(n,"class","block")},m(t,r){u(t,n,r),a(n,l),a(l,c),a(c,o),a(o,i),a(i,s),a(s,b),a(o,w),a(o,x),a(x,S),a(S,_),a(_,L),a(_,E),a(_,O),a(S,j),a(S,A),a(S,C),rt&&rt.m(S,null),a(x,V),a(x,P),a(P,M),a(P,z),a(P,H),a(H,I),a(x,T),mt&&mt.m(x,null),a(o,B),a(o,R),a(R,q),bt.m(q,null),a(q,J),a(q,D),yt.m(D,null),a(c,F),a(c,G),a(G,Q),a(Q,W);for(let t=0;t<wt.length;t+=1)wt[t]&&wt[t].m(W,null);Y||(Z=$(q,"click",e[4]),Y=!0)},p(t,[e]){if(1&e&&!r(b.src,v=K(t[0].img,"full","250,"))&&k(b,"src",v),1&e&&tt!==(tt=t[0].type+"")&&y(L,tt),1&e&&nt!==(nt=t[0].id+"")&&y(O,nt),1&e&&ot!==(ot=t[0].title+"")&&y(A,ot),t[0].is_public?rt||(rt=lt(),rt.c(),rt.m(S,null)):rt&&(rt.d(1),rt=null),1&e&&N!==(N=t[0].url)&&k(S,"href",N),1&e&&it!==(it=t[0].user+"")&&y(M,it),1&e&&st!==(st=t[0].updated_at+"")&&y(I,st),0!==t[0].buttons.length?mt?mt.p(t,e):(mt=ct(t),mt.c(),mt.m(x,null)):mt&&(mt.d(1),mt=null),ht===(ht=gt(t))&&bt?bt.p(t,e):(bt.d(1),bt=ht(t),bt&&(bt.c(),bt.m(q,J))),kt!==(kt=$t(t))&&(yt.d(1),yt=kt(t),yt&&(yt.c(),yt.m(D,null))),4&e&&U!==(U="button "+(t[2]?"is-inverted":""))&&k(q,"class",U),1&e){let n;for(vt=Object.entries(t[0].metadata),n=0;n<vt.length;n+=1){const l=et(t,vt,n);wt[n]?wt[n].p(l,e):(wt[n]=pt(l),wt[n].c(),wt[n].m(W,null))}for(;n<wt.length;n+=1)wt[n].d(1);wt.length=vt.length}1&e&&X!==(X="block-"+t[0].id)&&k(l,"id",X)},i:t,o:t,d(t){t&&d(n),rt&&rt.d(),mt&&mt.d(),bt.d(),yt.d(),f(wt,t),Y=!1,Z()}}}function gt(t,e,n){const l=x();function c(t){l("toggleSelection",{block:t})}let{block:o}=e,{appLang:i}=e,{isSelected:s=!1}=e;return t.$$set=t=>{"block"in t&&n(0,o=t.block),"appLang"in t&&n(1,i=t.appLang),"isSelected"in t&&n(2,s=t.isSelected)},[o,i,s,c,()=>c(o)]}class ht extends G{constructor(t){super(),F(this,t,gt,mt,o,{block:0,appLang:1,isSelected:2})}}function bt(t,e,n){const l=t.slice();return l[14]=e[n][0],l[15]=e[n][1],l}function $t(t,e,n){const l=t.slice();return l[18]=e[n][0],l[19]=e[n][1],l}function kt(t,e,n){const l=t.slice();return l[22]=e[n],l}function yt(t){let e,n;return e=new tt({props:{block:t[22],appLang:t[1],isSelected:t[5](t[22])}}),e.$on("toggleSelection",t[10]),{c(){q(e.$$.fragment)},m(t,l){J(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.block=t[22]),2&n&&(l.appLang=t[1]),33&n&&(l.isSelected=t[5](t[22])),e.$set(l)},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function vt(t){let e,n;return e=new ht({props:{block:t[22],appLang:t[1],isSelected:t[5](t[22])}}),e.$on("toggleSelection",t[10]),{c(){q(e.$$.fragment)},m(t,l){J(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.block=t[22]),2&n&&(l.appLang=t[1]),33&n&&(l.isSelected=t[5](t[22])),e.$set(l)},i(t){n||(T(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function wt(t,e){let n,l,c,o,i,s;const r=[vt,yt],a=[];function f(t,e){return 1&e&&(l=null),null==l&&(l=!!/^\d+$/.test(t[22].id)),l?0:1}return c=f(e,-1),o=a[c]=r[c](e),{key:t,first:null,c(){n=b(),o.c(),i=b(),this.first=n},m(t,e){u(t,n,e),a[c].m(t,e),u(t,i,e),s=!0},p(t,n){let l=c;c=f(e=t,n),c===l?a[c].p(e,n):(H(),B(a[l],1,1,(()=>{a[l]=null})),I(),o=a[c],o?o.p(e,n):(o=a[c]=r[c](e),o.c()),T(o,1),o.m(i.parentNode,i))},i(t){s||(T(o),s=!0)},o(t){B(o),s=!1},d(t){t&&d(n),a[c].d(t),t&&d(i)}}}function xt(t){let e,n,l,c,o="en"===t[1]?"No documents in selection":"Aucun document sélectionné";return{c(){e=p("tr"),n=p("td"),l=g(o),c=h()},m(t,o){u(t,e,o),a(e,n),a(n,l),a(e,c)},p(t,e){2&e&&o!==(o="en"===t[1]?"No documents in selection":"Aucun document sélectionné")&&y(l,o)},d(t){t&&d(e)}}}function St(t){let e,n,l,c,o,i,s,r,f,m,b,v,w,x,S,_,L=t[18]+"",E=t[19].title+"";function O(){return t[11](t[18],t[14])}return{c(){e=p("tr"),n=p("th"),l=p("span"),c=g("#"),o=g(L),i=h(),s=p("td"),r=p("a"),f=g(E),b=h(),v=p("td"),w=p("button"),x=h(),k(l,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),k(n,"class","is-narrow is-3"),k(r,"href",m="/"+t[19].url),k(r,"target","_blank"),k(w,"class","delete"),k(w,"aria-label","close"),k(v,"class","is-narrow")},m(t,d){u(t,e,d),a(e,n),a(n,l),a(l,c),a(l,o),a(e,i),a(e,s),a(s,r),a(r,f),a(e,b),a(e,v),a(v,w),a(e,x),S||(_=$(w,"click",O),S=!0)},p(e,n){t=e,4&n&&L!==(L=t[18]+"")&&y(o,L),4&n&&E!==(E=t[19].title+"")&&y(f,E),4&n&&m!==(m="/"+t[19].url)&&k(r,"href",m)},d(t){t&&d(e),S=!1,_()}}}function _t(t){let e,n,l,c,o,i,s=t[14]+"",r=Object.entries(t[15]),m=[];for(let e=0;e<r.length;e+=1)m[e]=St($t(t,r,e));let b=null;return r.length||(b=xt(t)),{c(){e=p("h2"),n=g(s),l=h(),c=p("table"),o=p("tbody");for(let t=0;t<m.length;t+=1)m[t].c();b&&b.c(),i=h(),k(c,"class","table pl-2 is-fullwidth")},m(t,s){u(t,e,s),a(e,n),u(t,l,s),u(t,c,s),a(c,o);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(o,null);b&&b.m(o,null),a(c,i)},p(t,e){if(4&e&&s!==(s=t[14]+"")&&y(n,s),518&e){let n;for(r=Object.entries(t[15]),n=0;n<r.length;n+=1){const l=$t(t,r,n);m[n]?m[n].p(l,e):(m[n]=St(l),m[n].c(),m[n].m(o,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=r.length,!r.length&&b?b.p(t,e):r.length?b&&(b.d(1),b=null):(b=xt(t),b.c(),b.m(o,null))}},d(t){t&&d(e),t&&d(l),t&&d(c),f(m,t),b&&b.d()}}}function Lt(t){let e,n,c,o,i,s,r,m,b,w,x,S,_,L,E,O,j,A,C,N,V,P,M,z,q,J,D,U,F,G,K,Q,W,X,Y,Z,tt,et,nt,lt,ct,ot,it,st="en"===t[1]?"Selection":"Sélection",rt=[],at=new Map,ut="en"===t[1]?"Selected documents":"Documents sélectionnés",dt="en"===t[1]?"Clear selection":"Vider la sélection",ft="en"===t[1]?"Save selection":"Sauvegarder la sélection",pt=t[0];const mt=t=>t[22].id;for(let e=0;e<pt.length;e+=1){let n=kt(t,pt,e),l=mt(n);at.set(l,rt[e]=wt(l,n))}let gt=Object.entries(t[2]),ht=[];for(let e=0;e<gt.length;e+=1)ht[e]=_t(bt(t,gt,e));return{c(){e=p("div"),n=p("button"),c=p("span"),o=p("i"),i=h(),s=g(st),r=g("\n            ("),m=p("span"),b=g(t[6]),w=g(")"),x=h(),S=p("div");for(let t=0;t<rt.length;t+=1)rt[t].c();_=h(),L=p("div"),E=p("div"),O=h(),j=p("div"),A=p("div"),C=p("div"),N=p("i"),V=h(),P=g(ut),M=g("\n                ("),z=p("span"),q=g(t[6]),J=g(")"),D=h(),U=p("button"),F=h(),G=p("section");for(let t=0;t<ht.length;t+=1)ht[t].c();K=h(),Q=p("footer"),W=p("div"),X=p("button"),Y=g(dt),Z=h(),tt=p("button"),et=p("i"),nt=h(),lt=g(ft),k(o,"class","fa-solid fa-book-bookmark"),k(m,"id","selection-count"),k(m,"class","svelte-1ifntk3"),k(c,"class","svelte-1ifntk3"),k(n,"id","set-btn"),k(n,"class","button px-5 py-4 is-link js-modal-trigger svelte-1ifntk3"),k(n,"data-target","selection-modal"),v(n,"add-animation",t[3]),v(n,"remove-animation",t[4]),k(e,"class","set-container svelte-1ifntk3"),k(E,"class","modal-background"),k(N,"class","fa-solid fa-book-bookmark"),k(z,"id","selection-count"),k(C,"class","title is-4 mb-0 media-content"),k(U,"class","delete media-left"),k(U,"aria-label","close"),k(A,"class","modal-card-head media mb-0"),k(G,"class","modal-card-body"),k(X,"class","button is-link is-light"),k(et,"class","fa-solid fa-floppy-disk"),k(tt,"class","button is-link"),k(W,"class","buttons"),k(Q,"class","modal-card-foot is-centered"),k(j,"class","modal-content"),k(L,"id","selection-modal"),k(L,"class","modal fade"),k(L,"tabindex","-1"),k(L,"aria-labelledby","selection-modal-label"),k(L,"aria-hidden","true")},m(l,d){u(l,e,d),a(e,n),a(n,c),a(c,o),a(c,i),a(c,s),a(c,r),a(c,m),a(m,b),a(c,w),u(l,x,d),u(l,S,d);for(let t=0;t<rt.length;t+=1)rt[t]&&rt[t].m(S,null);u(l,_,d),u(l,L,d),a(L,E),a(L,O),a(L,j),a(j,A),a(A,C),a(C,N),a(C,V),a(C,P),a(C,M),a(C,z),a(z,q),a(C,J),a(A,D),a(A,U),a(j,F),a(j,G);for(let t=0;t<ht.length;t+=1)ht[t]&&ht[t].m(G,null);a(j,K),a(j,Q),a(Q,W),a(W,X),a(X,Y),a(W,Z),a(W,tt),a(tt,et),a(tt,nt),a(tt,lt),ct=!0,ot||(it=[$(X,"click",t[8]),$(tt,"click",t[7])],ot=!0)},p(t,[e]){if((!ct||2&e)&&st!==(st="en"===t[1]?"Selection":"Sélection")&&y(s,st),(!ct||64&e)&&y(b,t[6]),(!ct||8&e)&&v(n,"add-animation",t[3]),(!ct||16&e)&&v(n,"remove-animation",t[4]),1059&e&&(pt=t[0],H(),rt=function(t,e,n,c,o,i,s,r,a,u,d,f){let p=t.length,m=i.length,g=p;const h={};for(;g--;)h[t[g].key]=g;const b=[],$=new Map,k=new Map,y=[];for(g=m;g--;){const t=f(o,i,g),l=n(t);let r=s.get(l);r?c&&y.push((()=>r.p(t,e))):(r=u(l,t),r.c()),$.set(l,b[g]=r),l in h&&k.set(l,Math.abs(g-h[l]))}const v=new Set,w=new Set;function x(t){T(t,1),t.m(r,d),s.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=b[m-1],n=t[p-1],l=e.key,c=n.key;e===n?(d=e.first,p--,m--):$.has(c)?!s.has(l)||v.has(l)?x(e):w.has(c)?p--:k.get(l)>k.get(c)?(w.add(l),x(e)):(v.add(c),p--):(a(n,s),p--)}for(;p--;){const e=t[p];$.has(e.key)||a(e,s)}for(;m;)x(b[m-1]);return l(y),b}(rt,e,mt,1,t,pt,at,S,R,wt,null,kt),I()),(!ct||2&e)&&ut!==(ut="en"===t[1]?"Selected documents":"Documents sélectionnés")&&y(P,ut),(!ct||64&e)&&y(q,t[6]),518&e){let n;for(gt=Object.entries(t[2]),n=0;n<gt.length;n+=1){const l=bt(t,gt,n);ht[n]?ht[n].p(l,e):(ht[n]=_t(l),ht[n].c(),ht[n].m(G,null))}for(;n<ht.length;n+=1)ht[n].d(1);ht.length=gt.length}(!ct||2&e)&&dt!==(dt="en"===t[1]?"Clear selection":"Vider la sélection")&&y(Y,dt),(!ct||2&e)&&ft!==(ft="en"===t[1]?"Save selection":"Sauvegarder la sélection")&&y(lt,ft)},i(t){if(!ct){for(let t=0;t<pt.length;t+=1)T(rt[t]);ct=!0}},o(t){for(let t=0;t<rt.length;t+=1)B(rt[t]);ct=!1},d(t){t&&d(e),t&&d(x),t&&d(S);for(let t=0;t<rt.length;t+=1)rt[t].d();t&&d(_),t&&d(L),f(ht,t),ot=!1,l(it)}}}function Et(t,e,n){let l,c,{blocks:o=[]}=e,{appLang:i="en"}=e,s=!1,r=!1,a=JSON.parse(localStorage.getItem("documentSet"))??{};function u(){localStorage.setItem("documentSet",JSON.stringify(a))}function d(t,e){const{[t]:l,...c}=a[e];n(2,a[e]=c,a),n(4,r=!0),setTimeout((()=>n(4,r=!1)),300),u()}return t.$$set=t=>{"blocks"in t&&n(0,o=t.blocks),"appLang"in t&&n(1,i=t.appLang)},t.$$.update=()=>{4&t.$$.dirty&&n(6,l=Object.values(a).reduce(((t,e)=>t+Object.keys(e).length),0)),4&t.$$.dirty&&n(5,c=t=>!!a.hasOwnProperty(t.type)&&a[t.type].hasOwnProperty(t.id))},[o,i,a,s,r,c,l,function(){console.log(a)},function(){n(2,a={}),u()},d,function(t){const{block:e}=t.detail;c(e)?d(e.id,e.type):function(t){a.hasOwnProperty(t.type)||n(2,a[t.type]=[],a),n(2,a[t.type]={...a[t.type],[t.id]:t},a),n(3,s=!0),setTimeout((()=>n(3,s=!1)),300),u()}(e)},(t,e)=>d(t,e)]}const Ot=Q("record-data"),jt=Q("regions-data"),At=Ot.concat(jt);APP_LANG;return new class extends G{constructor(t){super(),F(this,t,Et,Lt,o,{blocks:0,appLang:1})}}({target:document.getElementById("block-list"),props:{blocks:At}})}();
//# sourceMappingURL=blockList.js.map
