var recordList=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,r;function s(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function b(){return g("")}function $(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e,n){t.classList[n?"add":"remove"](e)}function x(t){r=t}function w(){const t=function(){if(!r)throw new Error("Function called outside component initialization");return r}();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=function(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,l,e),o}(e,n,{cancelable:l});return o.slice().forEach((e=>{e.call(t,c)})),!c.defaultPrevented}return!0}}const S=[],_=[];let A=[];const L=[],E=Promise.resolve();let O=!1;function j(t){A.push(t)}const N=new Set;let C=0;function z(){if(0!==C)return;const t=r;do{try{for(;C<S.length;){const t=S[C];C++,x(t),P(t.$$)}}catch(t){throw S.length=0,C=0,t}for(x(null),S.length=0,C=0;_.length;)_.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];N.has(e)||(N.add(e),e())}A.length=0}while(S.length);for(;L.length;)L.pop()();O=!1,N.clear(),x(t)}function P(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const M=new Set;let T;function V(){T={r:0,c:[],p:T}}function R(){T.r||l(T.c),T=T.p}function I(t,e){t&&t.i&&(M.delete(t),t.i(e))}function H(t,e,n,l){if(t&&t.o){if(M.has(t))return;M.add(t),T.c.push((()=>{M.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function B(t,e){H(t,1,1,(()=>{e.delete(t.key)}))}function q(t,n,c,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(n,c),i||j((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),s.forEach(j)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];A.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),A=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(S.push(t),O||(O=!0,E.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,o,c,i,s,a,u,f=[-1]){const p=r;x(e);const m=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||p.$$.root};u&&u(m.root);let g=!1;if(m.ctx=c?c(e,o.props||{},((t,n,...l)=>{const o=l.length?l[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),g&&D(e,t)),n})):[],m.update(),g=!0,l(m.before_update),m.fragment=!!i&&i(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();o.intro&&I(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),z()}x(p)}class F{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t=null,e="full",n="full"){if(!t)return"https://via.placeholder.com/96x96?text=No+Image";if((t=t.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const l=t[t.length-1].includes(",")?t.pop().replace(".jpg",""):e,o=t.join("_").replace(".jpg","");return`${CANTALOUPE_APP_URL??"http://localhost:8182"}/iiif/2/${o}.jpg/${l}/${n}/0/default.jpg`}function K(t,e,n){const l=t.slice();return l[6]=e[n][0],l[7]=e[n][1],l}function Q(t,e,n){const l=t.slice();return l[10]=e[n],l}function W(t){let e;return{c(){e=p("span"),e.innerHTML='<span class="icon has-text-success"><i class="fas fa-check-circle"></i></span> \n                                <span style="margin-left: -0.5rem">Public</span>',y(e,"class","pl-3 icon-text is-size-7 is-center has-text-weight-normal")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function X(t){let e,n,l,o,c=t[0].hasOwnProperty("iiif"),i=t[0].buttons.includes("regions"),r=t[0].buttons.includes("similarity"),s=t[0].buttons.includes("vectorization"),f=c&&Y(t),m=i&&tt(t),g=r&&et(t),b=s&&nt(t);return{c(){e=p("p"),f&&f.c(),n=h(),m&&m.c(),l=h(),g&&g.c(),o=h(),b&&b.c(),y(e,"class","subtitle is-6 mb-0 ml-2 pt-2")},m(t,c){u(t,e,c),f&&f.m(e,null),a(e,n),m&&m.m(e,null),a(e,l),g&&g.m(e,null),a(e,o),b&&b.m(e,null)},p(t,a){1&a&&(c=t[0].hasOwnProperty("iiif")),c?f?f.p(t,a):(f=Y(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),1&a&&(i=t[0].buttons.includes("regions")),i?m?m.p(t,a):(m=tt(t),m.c(),m.m(e,l)):m&&(m.d(1),m=null),1&a&&(r=t[0].buttons.includes("similarity")),r?g?g.p(t,a):(g=et(t),g.c(),g.m(e,o)):g&&(g.d(1),g=null),1&a&&(s=t[0].buttons.includes("vectorization")),s?b?b.p(t,a):(b=nt(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(t){t&&d(e),f&&f.d(),m&&m.d(),g&&g.d(),b&&b.d()}}}function Y(t){let e,n=t[0].iiif,l=[];for(let e=0;e<n.length;e+=1)l[e]=Z(Q(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=b()},m(t,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,n);u(t,e,n)},p(t,o){if(1&o){let c;for(n=t[0].iiif,c=0;c<n.length;c+=1){const i=Q(t,n,c);l[c]?l[c].p(i,o):(l[c]=Z(i),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=n.length}},d(t){f(l,t),t&&d(e)}}}function Z(t){let e,n=t[10]+"";return{c(){e=p("span"),y(e,"class","tag logo mt-1")},m(t,l){u(t,e,l),e.innerHTML=n},p(t,l){1&l&&n!==(n=t[10]+"")&&(e.innerHTML=n)},d(t){t&&d(e)}}}function tt(t){let e,n,l,o;return{c(){e=p("a"),n=p("span"),y(n,"class","iconify"),y(n,"data-icon","entypo:documents"),y(e,"href",l=t[0].url+"regions/"),y(e,"class","button is-small is-rounded is-link px-2"),y(e,"title",o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"regions/")&&y(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")&&y(e,"title",o)},d(t){t&&d(e)}}}function et(t){let e,n,l,o;return{c(){e=p("a"),n=p("span"),y(n,"class","iconify"),y(n,"data-icon","octicon:mirror-16"),y(e,"href",l=t[0].url+"similarity/"),y(e,"class","button is-small is-rounded is-link px-2"),y(e,"title",o="en"===t[1]?"Show similarity":"Afficher les similarités")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"similarity/")&&y(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show similarity":"Afficher les similarités")&&y(e,"title",o)},d(t){t&&d(e)}}}function nt(t){let e,n,l,o;return{c(){e=p("a"),n=p("span"),y(n,"class","iconify"),y(n,"data-icon","arcticons:geogebra-geometry"),y(e,"href",l=t[0].url+"vectorization/"),y(e,"class","button is-small is-rounded is-link px-2"),y(e,"title",o="en"===t[1]?"Show vectorizations":"Afficher les vectorisations")},m(t,l){u(t,e,l),a(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"vectorization/")&&y(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show vectorizations":"Afficher les vectorisations")&&y(e,"title",o)},d(t){t&&d(e)}}}function lt(t){let e,n,l=t[2]?"Retirer de":"Ajouter à la";return{c(){e=g(l),n=g(" sélection")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Retirer de":"Ajouter à la")&&v(e,l)},d(t){t&&d(e),t&&d(n)}}}function ot(t){let e,n,l=t[2]?"Remove from":"Add to";return{c(){e=g(l),n=g(" set")},m(t,l){u(t,e,l),u(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Remove from":"Add to")&&v(e,l)},d(t){t&&d(e),t&&d(n)}}}function ct(t){let e;return{c(){e=m("path"),y(e,"fill","currentColor"),y(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function it(t){let e;return{c(){e=m("path"),y(e,"fill","currentColor"),y(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function rt(t){let e,n,l,o,c,i,r,s=t[6]+"",f=t[7]+"";return{c(){e=p("tr"),n=p("th"),l=g(s),o=h(),c=p("td"),i=g(f),r=h(),y(n,"class","is-narrow is-3")},m(t,s){u(t,e,s),a(e,n),a(n,l),a(e,o),a(e,c),a(c,i),a(e,r)},p(t,e){1&e&&s!==(s=t[6]+"")&&v(l,s),1&e&&f!==(f=t[7]+"")&&v(i,f)},d(t){t&&d(e)}}}function st(e){let n,l,o,c,i,r,b,k,x,w,S,_,A,L,E,O,j,N,C,z,P,M,T,V,R,I,H,B,q,J,D,U,F,Q,Y,Z,tt,et,nt,st=e[0].type+"",at=e[0].id+"",ut=e[0].title+"",dt=e[0].user+"",ft=e[0].updated_at+"",pt=e[0].is_public&&W(),mt=0!==e[0].buttons.length&&X(e);function gt(t,e){return"en"===t[1]?ot:lt}let ht=gt(e),bt=ht(e);function $t(t,e){return t[2]?it:ct}let yt=$t(e),vt=yt(e),kt=Object.entries(e[0].metadata),xt=[];for(let t=0;t<kt.length;t+=1)xt[t]=rt(K(e,kt,t));return{c(){n=p("div"),l=p("div"),o=p("div"),c=p("div"),i=p("div"),r=p("figure"),b=p("img"),x=h(),w=p("div"),S=p("a"),_=p("span"),A=g(st),L=g(" #"),E=g(at),O=h(),j=g(ut),N=h(),pt&&pt.c(),z=h(),P=p("p"),M=g(dt),T=h(),V=p("span"),R=g(ft),I=h(),mt&&mt.c(),H=h(),B=p("div"),q=p("button"),bt.c(),J=h(),D=m("svg"),vt.c(),F=h(),Q=p("div"),Y=p("table"),Z=p("tbody");for(let t=0;t<xt.length;t+=1)xt[t].c();s(b.src,k=G(e[0].img,"full","250,"))||y(b,"src",k),y(b,"alt","Record illustration"),y(r,"class","card image is-96x96 svelte-xqp9nk"),y(i,"class","media-left"),y(_,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),y(S,"href",C=e[0].url),y(S,"class","title is-4 hoverable pt-2 svelte-xqp9nk"),y(V,"class","tag p-1 mb-1"),y(P,"class","subtitle is-6 mb-0 ml-2 pt-2"),y(w,"class","media-content"),y(D,"xmlns","http://www.w3.org/2000/svg"),y(D,"viewBox","0 0 384 512"),y(D,"class","svelte-xqp9nk"),y(q,"class",U="button "+(e[2]?"is-inverted":"")),y(B,"class","media-right"),y(c,"class","media"),y(Y,"class","table pl-2 is-fullwidth"),y(Q,"class","content"),y(o,"class","card-content"),y(l,"id",tt="block-"+e[0].id),y(l,"class","card"),y(n,"class","block")},m(t,s){u(t,n,s),a(n,l),a(l,o),a(o,c),a(c,i),a(i,r),a(r,b),a(c,x),a(c,w),a(w,S),a(S,_),a(_,A),a(_,L),a(_,E),a(S,O),a(S,j),a(S,N),pt&&pt.m(S,null),a(w,z),a(w,P),a(P,M),a(P,T),a(P,V),a(V,R),a(w,I),mt&&mt.m(w,null),a(c,H),a(c,B),a(B,q),bt.m(q,null),a(q,J),a(q,D),vt.m(D,null),a(o,F),a(o,Q),a(Q,Y),a(Y,Z);for(let t=0;t<xt.length;t+=1)xt[t]&&xt[t].m(Z,null);et||(nt=$(q,"click",e[4]),et=!0)},p(t,[e]){if(1&e&&!s(b.src,k=G(t[0].img,"full","250,"))&&y(b,"src",k),1&e&&st!==(st=t[0].type+"")&&v(A,st),1&e&&at!==(at=t[0].id+"")&&v(E,at),1&e&&ut!==(ut=t[0].title+"")&&v(j,ut),t[0].is_public?pt||(pt=W(),pt.c(),pt.m(S,null)):pt&&(pt.d(1),pt=null),1&e&&C!==(C=t[0].url)&&y(S,"href",C),1&e&&dt!==(dt=t[0].user+"")&&v(M,dt),1&e&&ft!==(ft=t[0].updated_at+"")&&v(R,ft),0!==t[0].buttons.length?mt?mt.p(t,e):(mt=X(t),mt.c(),mt.m(w,null)):mt&&(mt.d(1),mt=null),ht===(ht=gt(t))&&bt?bt.p(t,e):(bt.d(1),bt=ht(t),bt&&(bt.c(),bt.m(q,J))),yt!==(yt=$t(t))&&(vt.d(1),vt=yt(t),vt&&(vt.c(),vt.m(D,null))),4&e&&U!==(U="button "+(t[2]?"is-inverted":""))&&y(q,"class",U),1&e){let n;for(kt=Object.entries(t[0].metadata),n=0;n<kt.length;n+=1){const l=K(t,kt,n);xt[n]?xt[n].p(l,e):(xt[n]=rt(l),xt[n].c(),xt[n].m(Z,null))}for(;n<xt.length;n+=1)xt[n].d(1);xt.length=kt.length}1&e&&tt!==(tt="block-"+t[0].id)&&y(l,"id",tt)},i:t,o:t,d(t){t&&d(n),pt&&pt.d(),mt&&mt.d(),bt.d(),vt.d(),f(xt,t),et=!1,nt()}}}function at(t,e,n){const l=w();function o(t){l("toggleSelection",{block:t})}let{block:c}=e,{appLang:i}=e,{isSelected:r=!1}=e;return t.$$set=t=>{"block"in t&&n(0,c=t.block),"appLang"in t&&n(1,i=t.appLang),"isSelected"in t&&n(2,r=t.isSelected)},[c,i,r,o,()=>o(c)]}class ut extends F{constructor(t){super(),U(this,t,at,st,c,{block:0,appLang:1,isSelected:2})}}function dt(t){localStorage.setItem("documentSet",JSON.stringify(t))}function ft(t,e,n){const l=t.slice();return l[14]=e[n][0],l[15]=e[n][1],l}function pt(t,e,n){const l=t.slice();return l[18]=e[n][0],l[19]=e[n][1],l}function mt(t,e,n){const l=t.slice();return l[22]=e[n],l}function gt(t){let e,n,o=[],c=new Map,i=t[1];const r=t=>t[22].id;for(let e=0;e<i.length;e+=1){let n=mt(t,i,e),l=r(n);c.set(l,o[e]=bt(l,n))}let s=null;return i.length||(s=ht(t)),{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();s&&s.c()},m(t,l){u(t,e,l);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);s&&s.m(e,null),n=!0},p(t,n){2118&n&&(i=t[1],V(),o=function(t,e,n,o,c,i,r,s,a,u,d,f){let p=t.length,m=i.length,g=p;const h={};for(;g--;)h[t[g].key]=g;const b=[],$=new Map,y=new Map,v=[];for(g=m;g--;){const t=f(c,i,g),l=n(t);let s=r.get(l);s?o&&v.push((()=>s.p(t,e))):(s=u(l,t),s.c()),$.set(l,b[g]=s),l in h&&y.set(l,Math.abs(g-h[l]))}const k=new Set,x=new Set;function w(t){I(t,1),t.m(s,d),r.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=b[m-1],n=t[p-1],l=e.key,o=n.key;e===n?(d=e.first,p--,m--):$.has(o)?!r.has(l)||k.has(l)?w(e):x.has(o)?p--:y.get(l)>y.get(o)?(x.add(l),w(e)):(k.add(o),p--):(a(n,r),p--)}for(;p--;){const e=t[p];$.has(e.key)||a(e,r)}for(;m;)w(b[m-1]);return l(v),b}(o,n,r,1,t,i,c,e,B,bt,null,mt),R(),!i.length&&s?s.p(t,n):i.length?s&&(s.d(1),s=null):(s=ht(t),s.c(),s.m(e,null)))},i(t){if(!n){for(let t=0;t<i.length;t+=1)I(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)H(o[t]);n=!1},d(t){t&&d(e);for(let t=0;t<o.length;t+=1)o[t].d();s&&s.d()}}}function ht(t){let e,n,l="en"===t[2]?"No records found":"Aucun document trouvé";return{c(){e=p("p"),n=g(l)},m(t,l){u(t,e,l),a(e,n)},p(t,e){4&e&&l!==(l="en"===t[2]?"No records found":"Aucun document trouvé")&&v(n,l)},d(t){t&&d(e)}}}function bt(t,e){let n,l,o;return l=new ut({props:{block:e[22],appLang:e[2],isSelected:e[6](e[22])}}),l.$on("toggleSelection",e[11]),{key:t,first:null,c(){var t;n=b(),(t=l.$$.fragment)&&t.c(),this.first=n},m(t,e){u(t,n,e),q(l,t,e),o=!0},p(t,n){e=t;const o={};2&n&&(o.block=e[22]),4&n&&(o.appLang=e[2]),66&n&&(o.isSelected=e[6](e[22])),l.$set(o)},i(t){o||(I(l.$$.fragment,t),o=!0)},o(t){H(l.$$.fragment,t),o=!1},d(t){t&&d(n),J(l,t)}}}function $t(t){let e,n,l,o,c,i,r=t[14]+"",s=Object.entries(t[15]),m=[];for(let e=0;e<s.length;e+=1)m[e]=vt(pt(t,s,e));let b=null;return s.length||(b=yt(t)),{c(){e=p("h3"),n=g(r),l=h(),o=p("table"),c=p("tbody");for(let t=0;t<m.length;t+=1)m[t].c();b&&b.c(),i=h(),y(o,"class","table pl-2 is-fullwidth")},m(t,r){u(t,e,r),a(e,n),u(t,l,r),u(t,o,r),a(o,c);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(c,null);b&&b.m(c,null),a(o,i)},p(t,e){if(8&e&&r!==(r=t[14]+"")&&v(n,r),1036&e){let n;for(s=Object.entries(t[15]),n=0;n<s.length;n+=1){const l=pt(t,s,n);m[n]?m[n].p(l,e):(m[n]=vt(l),m[n].c(),m[n].m(c,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=s.length,!s.length&&b?b.p(t,e):s.length?b&&(b.d(1),b=null):(b=yt(t),b.c(),b.m(c,null))}},d(t){t&&d(e),t&&d(l),t&&d(o),f(m,t),b&&b.d()}}}function yt(t){let e,n,l,o,c="en"===t[2]?"No documents in selection":"Aucun document sélectionné";return{c(){e=p("tr"),n=p("td"),l=g(c),o=h()},m(t,c){u(t,e,c),a(e,n),a(n,l),a(e,o)},p(t,e){4&e&&c!==(c="en"===t[2]?"No documents in selection":"Aucun document sélectionné")&&v(l,c)},d(t){t&&d(e)}}}function vt(t){let e,n,l,o,c,i,r,s,f,m,b,k,x,w,S,_,A=t[18]+"",L=t[19].title+"";function E(){return t[12](t[18],t[14])}return{c(){e=p("tr"),n=p("th"),l=p("span"),o=g("#"),c=g(A),i=h(),r=p("td"),s=p("a"),f=g(L),b=h(),k=p("td"),x=p("button"),w=h(),y(l,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),y(n,"class","is-narrow is-3"),y(s,"href",m=t[19].url),y(s,"target","_blank"),y(x,"class","delete"),y(x,"aria-label","close"),y(k,"class","is-narrow")},m(t,d){u(t,e,d),a(e,n),a(n,l),a(l,o),a(l,c),a(e,i),a(e,r),a(r,s),a(s,f),a(e,b),a(e,k),a(k,x),a(e,w),S||(_=$(x,"click",E),S=!0)},p(e,n){t=e,8&n&&A!==(A=t[18]+"")&&v(c,A),8&n&&L!==(L=t[19].title+"")&&v(f,L),8&n&&m!==(m=t[19].url)&&y(s,"href",m)},d(t){t&&d(e),S=!1,_()}}}function kt(t){let e,n=t[14]!==t[0]&&$t(t);return{c(){n&&n.c(),e=b()},m(t,l){n&&n.m(t,l),u(t,e,l)},p(t,l){t[14]!==t[0]?n?n.p(t,l):(n=$t(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&d(e)}}}function xt(t){let e,n,o,c,i,r,s,m,b,x,w,S,_,A,L,E,O,j,N,C,z,P,M,T,B,q,J,D,U,F,G,K,Q,W,X,Y,Z,tt,et,nt,lt="en"===t[2]?"Selection":"Sélection",ot="en"===t[2]?"Selected documents":"Documents sélectionnés",ct="en"===t[2]?"Clear selection":"Vider la sélection",it="en"===t[2]?"Save selection":"Sauvegarder la sélection",rt=0!==t[1].length&&gt(t),st=Object.entries(t[3]),at=[];for(let e=0;e<st.length;e+=1)at[e]=kt(ft(t,st,e));return{c(){e=p("div"),n=p("button"),o=p("span"),c=p("i"),i=h(),r=g(lt),s=g("\n            ("),m=p("span"),m.textContent=`${t[7]}`,b=g(")"),x=h(),rt&&rt.c(),w=h(),S=p("div"),_=p("div"),A=h(),L=p("div"),E=p("div"),O=p("div"),j=p("i"),N=h(),C=g(ot),z=g("\n                ("),P=p("span"),P.textContent=`${t[7]}`,M=g(")"),T=h(),B=p("button"),q=h(),J=p("section");for(let t=0;t<at.length;t+=1)at[t].c();D=h(),U=p("footer"),F=p("div"),G=p("button"),K=g(ct),Q=h(),W=p("button"),X=p("i"),Y=h(),Z=g(it),y(c,"class","fa-solid fa-book-bookmark"),y(m,"id","selection-count"),y(n,"id","set-btn"),y(n,"class","button px-5 py-4 is-link js-modal-trigger"),y(n,"data-target","selection-modal"),k(n,"add-animation",t[4]),k(n,"remove-animation",t[5]),y(e,"class","set-container"),y(_,"class","modal-background"),y(j,"class","fa-solid fa-book-bookmark"),y(P,"id","selection-count"),y(O,"class","title is-4 mb-0 media-content"),y(B,"class","delete media-left"),y(B,"aria-label","close"),y(E,"class","modal-card-head media mb-0"),y(J,"class","modal-card-body"),y(G,"class","button is-link is-light"),y(X,"class","fa-solid fa-floppy-disk"),y(W,"class","button is-link"),y(F,"class","buttons"),y(U,"class","modal-card-foot is-centered"),y(L,"class","modal-content"),y(S,"id","selection-modal"),y(S,"class","modal fade"),y(S,"tabindex","-1"),y(S,"aria-labelledby","selection-modal-label"),y(S,"aria-hidden","true")},m(l,d){u(l,e,d),a(e,n),a(n,o),a(o,c),a(o,i),a(o,r),a(o,s),a(o,m),a(o,b),u(l,x,d),rt&&rt.m(l,d),u(l,w,d),u(l,S,d),a(S,_),a(S,A),a(S,L),a(L,E),a(E,O),a(O,j),a(O,N),a(O,C),a(O,z),a(O,P),a(O,M),a(E,T),a(E,B),a(L,q),a(L,J);for(let t=0;t<at.length;t+=1)at[t]&&at[t].m(J,null);a(L,D),a(L,U),a(U,F),a(F,G),a(G,K),a(F,Q),a(F,W),a(W,X),a(W,Y),a(W,Z),tt=!0,et||(nt=[$(G,"click",t[9]),$(W,"click",t[8])],et=!0)},p(t,[e]){if((!tt||4&e)&&lt!==(lt="en"===t[2]?"Selection":"Sélection")&&v(r,lt),(!tt||16&e)&&k(n,"add-animation",t[4]),(!tt||32&e)&&k(n,"remove-animation",t[5]),0!==t[1].length?rt?(rt.p(t,e),2&e&&I(rt,1)):(rt=gt(t),rt.c(),I(rt,1),rt.m(w.parentNode,w)):rt&&(V(),H(rt,1,1,(()=>{rt=null})),R()),(!tt||4&e)&&ot!==(ot="en"===t[2]?"Selected documents":"Documents sélectionnés")&&v(C,ot),1037&e){let n;for(st=Object.entries(t[3]),n=0;n<st.length;n+=1){const l=ft(t,st,n);at[n]?at[n].p(l,e):(at[n]=kt(l),at[n].c(),at[n].m(J,null))}for(;n<at.length;n+=1)at[n].d(1);at.length=st.length}(!tt||4&e)&&ct!==(ct="en"===t[2]?"Clear selection":"Vider la sélection")&&v(K,ct),(!tt||4&e)&&it!==(it="en"===t[2]?"Save selection":"Sauvegarder la sélection")&&v(Z,it)},i(t){tt||(I(rt),tt=!0)},o(t){H(rt),tt=!1},d(t){t&&d(e),t&&d(x),rt&&rt.d(t),t&&d(w),t&&d(S),f(at,t),et=!1,l(nt)}}}function wt(t,e,n){let l,o=!1,c=!1;const i="Regions";let{records:r=[]}=e,{appLang:s="en"}=e,a=JSON.parse(localStorage.getItem("documentSet"))??{};const u=Object.entries(a).filter((([t,e])=>t!==i)).reduce(((t,[e,n])=>t+Object.keys(n).length),0);function d(t,e){n(3,a=function(t,e,n){const{[e]:l,...o}=t[n];return t[n]=o,dt(t),t}(a,t,e)),n(5,c=!0),setTimeout((()=>n(5,c=!1)),300)}function f(t){n(3,a=function(t,e){return t.hasOwnProperty(e.type)||(t[e.type]=[]),t[e.type]={...t[e.type],[e.id]:e},dt(t),t}(a,t)),n(4,o=!0),setTimeout((()=>n(4,o=!1)),300)}return t.$$set=t=>{"records"in t&&n(1,r=t.records),"appLang"in t&&n(2,s=t.appLang)},t.$$.update=()=>{8&t.$$.dirty&&n(6,l=t=>a[t.type]?.hasOwnProperty(t.id))},[i,r,s,a,o,c,l,u,function(){!function(t){console.log(t)}(a)},function(){n(3,(dt({}),a={}))},d,function(t){const{block:e}=t.detail;l(e)?d(e.id,e.type):f(e)},(t,e)=>d(t,e)]}const St=(_t="record-data",document.getElementById(_t)?JSON.parse(document.getElementById(_t).textContent):[]);var _t;APP_LANG;return new class extends F{constructor(t){super(),U(this,t,wt,xt,c,{regionsType:0,records:1,appLang:2})}get regionsType(){return this.$$.ctx[0]}}({target:document.getElementById("record-list"),props:{records:St,regionsType:"Regions"}})}();
//# sourceMappingURL=recordList.js.map
