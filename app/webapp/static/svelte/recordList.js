var recordList=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,c;function i(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function u(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function a(t,e,n){t.$$.on_destroy.push(u(e,n))}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function $(){return b(" ")}function y(){return b("")}function v(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e,n){t.classList[n?"add":"remove"](e)}function w(t){c=t}const S=[],A=[];let E=[];const O=[],L=Promise.resolve();let j=!1;function N(t){E.push(t)}const C=new Set;let R=0;function P(){if(0!==R)return;const t=c;do{try{for(;R<S.length;){const t=S[R];R++,w(t),I(t.$$)}}catch(t){throw S.length=0,R=0,t}for(w(null),S.length=0,R=0;A.length;)A.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];C.has(e)||(C.add(e),e())}E.length=0}while(S.length);for(;O.length;)O.pop()();j=!1,C.clear(),w(t)}function I(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const M=new Set;let V;function T(){V={r:0,c:[],p:V}}function z(){V.r||l(V.c),V=V.p}function B(t,e){t&&t.i&&(M.delete(t),t.i(e))}function H(t,e,n,l){if(t&&t.o){if(M.has(t))return;M.add(t),V.c.push((()=>{M.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function D(t,e){H(t,1,1,(()=>{e.delete(t.key)}))}function U(t){t&&t.c()}function q(t,n,r,s){const{fragment:c,after_update:i}=t.$$;c&&c.m(n,r),s||N((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),i.forEach(N)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),E=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(t,e){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,L.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,o,r,s,i,u,a,d=[-1]){const f=c;w(e);const p=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};a&&a(p.root);let g=!1;if(p.ctx=r?r(e,o.props||{},((t,n,...l)=>{const o=l.length?l[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),g&&X(e,t)),n})):[],p.update(),g=!0,l(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();o.intro&&B(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),P()}w(f)}class F{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const G=[];function K(e,n=t){let l;const o=new Set;function s(t){if(r(e,t)&&(e=t,l)){const t=!G.length;for(const t of o)t[1](),G.push(t,e);if(t){for(let t=0;t<G.length;t+=2)G[t][0](G[t+1]);G.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,c=t){const i=[r,c];return o.add(i),1===o.size&&(l=n(s)||t),r(e),()=>{o.delete(i),0===o.size&&l&&(l(),l=null)}}}}function Q(e,n,r){const s=!Array.isArray(e),c=s?[e]:e,i=n.length<2;return a=e=>{let r=!1;const a=[];let d=0,f=t;const m=()=>{if(d)return;f();const l=n(s?a[0]:a,e);i?e(l):f=o(l)?l:t},p=c.map(((t,e)=>u(t,(t=>{a[e]=t,d&=~(1<<e),r&&m()}),(()=>{d|=1<<e}))));return r=!0,m(),function(){l(p),f(),r=!1}},{subscribe:K(r,a).subscribe};var a}const W=APP_LANG;USER_ID,CSRF_TOKEN,ADDITIONAL_MODULES;const Z="Regions";SAS_APP_URL;const tt=CANTALOUPE_APP_URL;function et(t=null,e="full",n="full"){if(!t)return"https://via.placeholder.com/96x96?text=No+Image";if((t=t.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const l=t[t.length-1].includes(",")?t.pop().replace(".jpg",""):e,o=t.join("_").replace(".jpg","");return`${tt??"http://localhost:8182"}/iiif/2/${o}.jpg/${l}/${n}/0/default.jpg`}const nt=function(){const t=K(JSON.parse(localStorage.getItem("documentSet"))||{}),{subscribe:e,get:n,update:l}=t;function o(t){localStorage.setItem("documentSet",JSON.stringify(t))}function r(t,e=!0){return e?t[Z]??{}:Object.entries(t).filter((([t,e])=>t!==Z))}function s(t,e,n){if(t[n]){const{[e]:l,...o}=t[n];t={...t,[n]:o}}return o(t),t}function c(t,e){return t.hasOwnProperty(e.type)||(t[e.type]={}),t[e.type]={...t[e.type],[e.id]:e},o(t),t}return{subscribe:e,save:()=>l((t=>(console.log(t),t))),empty:t=>l((e=>(t?delete e[Z]:Object.keys(e).forEach((t=>{t!==Z&&delete e[t]})),o(e),e))),addAll:t=>l((e=>function(t,e){return e.forEach((e=>{t[e.type]||(t[e.type]={}),t[e.type][e.id]=e})),o(t),t}(e,t))),removeAll:(t,e)=>l((n=>function(t,e,n){return t[n]?(e.forEach((e=>{delete t[n][e]})),o(t),t):t}(n,t,e))),remove:(t,e)=>l((n=>s(n,t,e))),add:t=>l((e=>c(e,t))),toggle:t=>l((e=>e[t.type]?.[t.id]?s(e,t.id,t.type):c(e,t))),toggleAll:(t,e,n)=>l((t=>{})),isSelected:Q(t,(t=>e=>t[e.type]?.hasOwnProperty(e.id)||!1)),selected:Q(t,(t=>e=>r(t,e))),nbSelected:Q(t,(t=>e=>{const n=r(t,e);return e?Object.keys(n).length:n.reduce(((t,[e,n])=>t+Object.keys(n).length),0)}))}}();function lt(t,e,n){const l=t.slice();return l[5]=e[n][0],l[6]=e[n][1],l}function ot(t,e,n){const l=t.slice();return l[9]=e[n],l}function rt(t){let e;return{c(){e=g("span"),e.innerHTML='<span class="icon has-text-success"><i class="fas fa-check-circle"></i></span> \n                                <span style="margin-left: -0.5rem">Public</span>',x(e,"class","pl-3 icon-text is-size-7 is-center has-text-weight-normal")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function st(t){let e,n,l=t[0].hasOwnProperty("iiif"),o=t[0].buttons.includes("regions"),r=l&&ct(t),s=o&&ut(t);return{c(){e=g("p"),r&&r.c(),n=$(),s&&s.c(),x(e,"class","subtitle is-6 mb-0 ml-2 pt-2")},m(t,l){f(t,e,l),r&&r.m(e,null),d(e,n),s&&s.m(e,null)},p(t,c){1&c&&(l=t[0].hasOwnProperty("iiif")),l?r?r.p(t,c):(r=ct(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),1&c&&(o=t[0].buttons.includes("regions")),o?s?s.p(t,c):(s=ut(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&m(e),r&&r.d(),s&&s.d()}}}function ct(t){let e,n=t[0].iiif,l=[];for(let e=0;e<n.length;e+=1)l[e]=it(ot(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=y()},m(t,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,n);f(t,e,n)},p(t,o){if(1&o){let r;for(n=t[0].iiif,r=0;r<n.length;r+=1){const s=ot(t,n,r);l[r]?l[r].p(s,o):(l[r]=it(s),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){p(l,t),t&&m(e)}}}function it(t){let e,n=t[9]+"";return{c(){e=g("span"),x(e,"class","tag logo mt-1")},m(t,l){f(t,e,l),e.innerHTML=n},p(t,l){1&l&&n!==(n=t[9]+"")&&(e.innerHTML=n)},d(t){t&&m(e)}}}function ut(t){let e,n,l,o,r;return{c(){e=g("a"),n=g("span"),l=$(),o=g("span"),o.textContent=""+("en"===W?"Show regions":"Afficher les régions"),x(n,"class","iconify"),x(n,"data-icon","entypo:documents"),x(o,"class","ml-2"),x(e,"href",r=t[0].url+"regions/"),x(e,"class","button is-small is-rounded is-link px-2"),x(e,"title","en"===W?"View image regions":"Afficher les régions d'images")},m(t,r){f(t,e,r),d(e,n),d(e,l),d(e,o)},p(t,n){1&n&&r!==(r=t[0].url+"regions/")&&x(e,"href",r)},d(t){t&&m(e)}}}function at(t){let e,n,l=t[1]?"Retirer de":"Ajouter à la";return{c(){e=b(l),n=b(" sélection")},m(t,l){f(t,e,l),f(t,n,l)},p(t,n){2&n&&l!==(l=t[1]?"Retirer de":"Ajouter à la")&&k(e,l)},d(t){t&&m(e),t&&m(n)}}}function dt(t){let e,n,l=t[1]?"Remove from":"Add to";return{c(){e=b(l),n=b(" selection")},m(t,l){f(t,e,l),f(t,n,l)},p(t,n){2&n&&l!==(l=t[1]?"Remove from":"Add to")&&k(e,l)},d(t){t&&m(e),t&&m(n)}}}function ft(t){let e;return{c(){e=h("path"),x(e,"fill","currentColor"),x(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function mt(t){let e;return{c(){e=h("path"),x(e,"fill","currentColor"),x(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){f(t,e,n)},d(t){t&&m(e)}}}function pt(t){let e,n,l,o,r,s,c,i=t[5]+"",u=t[6]+"";return{c(){e=g("tr"),n=g("th"),l=b(i),o=$(),r=g("td"),s=b(u),c=$(),x(n,"class","is-narrow is-3")},m(t,i){f(t,e,i),d(e,n),d(n,l),d(e,o),d(e,r),d(r,s),d(e,c)},p(t,e){1&e&&i!==(i=t[5]+"")&&k(l,i),1&e&&u!==(u=t[6]+"")&&k(s,u)},d(t){t&&m(e)}}}function gt(e){let n,l,o,r,s,c,u,a,y,w,S,A,E,O,L,j,N,C,R,P,I,M,V,T,z,B,H,D,U,q,J,X,Y,F,G,K,Q,Z=e[0].type+"",tt=e[0].id+"",nt=e[0].title+"",ot=e[0].user+"",ct=e[0].updated_at+"",it=e[0].is_public&&rt(),ut=0!==e[0].buttons.length&&st(e);let gt=("en"===W?dt:at)(e);function ht(t,e){return t[1]?mt:ft}let bt=ht(e),$t=bt(e),yt=Object.entries(e[0].metadata),vt=[];for(let t=0;t<yt.length;t+=1)vt[t]=pt(lt(e,yt,t));return{c(){n=g("div"),l=g("div"),o=g("div"),r=g("div"),s=g("div"),c=g("figure"),u=g("img"),y=$(),w=g("div"),S=g("a"),A=g("span"),E=b(Z),O=b(" #"),L=b(tt),j=$(),N=b(nt),C=$(),it&&it.c(),P=$(),I=g("p"),M=b(ot),V=$(),T=g("span"),z=b(ct),B=$(),ut&&ut.c(),H=$(),D=g("div"),U=g("button"),gt.c(),q=$(),J=h("svg"),$t.c(),X=$(),Y=g("div"),F=g("table"),G=g("tbody");for(let t=0;t<vt.length;t+=1)vt[t].c();i(u.src,a=et(e[0].img,"full","250,"))||x(u,"src",a),x(u,"alt","Record illustration"),x(c,"class","card image is-96x96 svelte-xqp9nk"),x(s,"class","media-left"),x(A,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),x(S,"href",R=e[0].url),x(S,"class","title is-4 hoverable pt-2 svelte-xqp9nk"),x(T,"class","tag p-1 mb-1"),x(I,"class","subtitle is-6 mb-0 ml-2 pt-2"),x(w,"class","media-content"),x(J,"xmlns","http://www.w3.org/2000/svg"),x(J,"viewBox","0 0 384 512"),x(J,"class","svelte-xqp9nk"),x(U,"class","button"),_(U,"is-inverted",e[1]),x(D,"class","media-right"),x(r,"class","media"),x(F,"class","table pl-2 is-fullwidth"),x(Y,"class","content"),x(o,"class","card-content"),x(l,"class","card mb-3"),x(n,"class","item")},m(t,i){f(t,n,i),d(n,l),d(l,o),d(o,r),d(r,s),d(s,c),d(c,u),d(r,y),d(r,w),d(w,S),d(S,A),d(A,E),d(A,O),d(A,L),d(S,j),d(S,N),d(S,C),it&&it.m(S,null),d(w,P),d(w,I),d(I,M),d(I,V),d(I,T),d(T,z),d(w,B),ut&&ut.m(w,null),d(r,H),d(r,D),d(D,U),gt.m(U,null),d(U,q),d(U,J),$t.m(J,null),d(o,X),d(o,Y),d(Y,F),d(F,G);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(G,null);K||(Q=v(U,"click",e[4]),K=!0)},p(t,[e]){if(1&e&&!i(u.src,a=et(t[0].img,"full","250,"))&&x(u,"src",a),1&e&&Z!==(Z=t[0].type+"")&&k(E,Z),1&e&&tt!==(tt=t[0].id+"")&&k(L,tt),1&e&&nt!==(nt=t[0].title+"")&&k(N,nt),t[0].is_public?it||(it=rt(),it.c(),it.m(S,null)):it&&(it.d(1),it=null),1&e&&R!==(R=t[0].url)&&x(S,"href",R),1&e&&ot!==(ot=t[0].user+"")&&k(M,ot),1&e&&ct!==(ct=t[0].updated_at+"")&&k(z,ct),0!==t[0].buttons.length?ut?ut.p(t,e):(ut=st(t),ut.c(),ut.m(w,null)):ut&&(ut.d(1),ut=null),gt.p(t,e),bt!==(bt=ht(t))&&($t.d(1),$t=bt(t),$t&&($t.c(),$t.m(J,null))),2&e&&_(U,"is-inverted",t[1]),1&e){let n;for(yt=Object.entries(t[0].metadata),n=0;n<yt.length;n+=1){const l=lt(t,yt,n);vt[n]?vt[n].p(l,e):(vt[n]=pt(l),vt[n].c(),vt[n].m(G,null))}for(;n<vt.length;n+=1)vt[n].d(1);vt.length=yt.length}},i:t,o:t,d(t){t&&m(n),it&&it.d(),ut&&ut.d(),gt.d(),$t.d(),p(vt,t),K=!1,Q()}}}function ht(t,e,n){let l,o;const{isSelected:r}=nt;a(t,r,(t=>n(3,o=t)));let{item:s}=e;return t.$$set=t=>{"item"in t&&n(0,s=t.item)},t.$$.update=()=>{9&t.$$.dirty&&n(1,l=o(s))},[s,l,r,o,()=>nt.toggle(s)]}class bt extends F{constructor(t){super(),Y(this,t,ht,gt,r,{item:0})}}function $t(e){let n,l,o,r,s,c,i,u,a,p="en"===W?"Selection":"Sélection";return{c(){n=g("div"),l=g("button"),o=g("span"),r=g("i"),s=$(),c=b(p),i=b("\n            ("),u=b(e[0]),a=b(")"),x(r,"class","fa-solid fa-book-bookmark"),x(o,"id","btn-content"),x(l,"id","set-btn"),x(l,"class","button px-5 py-4 is-link js-modal-trigger svelte-hs48f9"),x(l,"data-target","selection-modal"),x(n,"class","set-container svelte-hs48f9")},m(t,e){f(t,n,e),d(n,l),d(l,o),d(o,r),d(o,s),d(o,c),d(o,i),d(o,u),d(o,a)},p(t,[e]){1&e&&k(u,t[0])},i:t,o:t,d(t){t&&m(n)}}}function yt(t,e,n){let{selectionLength:l=0}=e,o=l;return t.$$set=t=>{"selectionLength"in t&&n(0,l=t.selectionLength)},t.$$.update=()=>{if(3&t.$$.dirty&&l!==o){const t=l>o;n(1,o=l);const e=document.getElementById("btn-content");e&&e.animate([{transform:t?"translateY(-7px)":"translateX(-5px)"},{transform:t?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[l,o]}class vt extends F{constructor(t){super(),Y(this,t,yt,$t,r,{selectionLength:0})}}function xt(e){let n,o,r,s,c,i,u,a,p,h,y="en"===W?"Save selection":"Sauvegarder la sélection";return{c(){n=g("footer"),o=g("div"),r=g("button"),r.textContent=""+("en"===W?"Clear selection":"Vider la sélection"),s=$(),c=g("button"),i=g("i"),u=$(),a=b(y),x(r,"class","button is-link is-light"),x(i,"class","fa-solid fa-floppy-disk"),x(c,"class","button is-link"),x(o,"class","buttons"),x(n,"class","modal-card-foot is-center")},m(t,l){f(t,n,l),d(n,o),d(o,r),d(o,s),d(o,c),d(c,i),d(c,u),d(c,a),p||(h=[v(r,"click",e[1]),v(c,"click",e[2])],p=!0)},p:t,i:t,o:t,d(t){t&&m(n),p=!1,l(h)}}}function kt(t,e,n){let{isRegion:l=!0}=e;return t.$$set=t=>{"isRegion"in t&&n(0,l=t.isRegion)},[l,()=>nt.empty(l),()=>nt.save()]}class _t extends F{constructor(t){super(),Y(this,t,kt,xt,r,{isRegion:0})}}function wt(t,e,n){const l=t.slice();return l[8]=e[n][0],l[9]=e[n][1],l}function St(t,e,n){const l=t.slice();return l[12]=e[n][0],l[13]=e[n][1],l}function At(t,e,n){const l=t.slice();return l[16]=e[n],l}function Et(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[16].id;for(let e=0;e<s.length;e+=1){let n=At(t,s,e),l=c(n);r.set(l,o[e]=Lt(l,n))}let i=null;return s.length||(i=Ot()),{c(){e=g("div");for(let t=0;t<o.length;t+=1)o[t].c();i&&i.c()},m(t,l){f(t,e,l);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);i&&i.m(e,null),n=!0},p(t,n){1&n&&(s=t[0],T(),o=function(t,e,n,o,r,s,c,i,u,a,d,f){let m=t.length,p=s.length,g=m;const h={};for(;g--;)h[t[g].key]=g;const b=[],$=new Map,y=new Map,v=[];for(g=p;g--;){const t=f(r,s,g),l=n(t);let i=c.get(l);i?o&&v.push((()=>i.p(t,e))):(i=a(l,t),i.c()),$.set(l,b[g]=i),l in h&&y.set(l,Math.abs(g-h[l]))}const x=new Set,k=new Set;function _(t){B(t,1),t.m(i,d),c.set(t.key,t),d=t.first,p--}for(;m&&p;){const e=b[p-1],n=t[m-1],l=e.key,o=n.key;e===n?(d=e.first,m--,p--):$.has(o)?!c.has(l)||x.has(l)?_(e):k.has(o)?m--:y.get(l)>y.get(o)?(k.add(l),_(e)):(x.add(o),m--):(u(n,c),m--)}for(;m--;){const e=t[m];$.has(e.key)||u(e,c)}for(;p;)_(b[p-1]);return l(v),b}(o,n,c,1,t,s,r,e,D,Lt,null,At),z(),!s.length&&i?i.p(t,n):s.length?i&&(i.d(1),i=null):(i=Ot(),i.c(),i.m(e,null)))},i(t){if(!n){for(let t=0;t<s.length;t+=1)B(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)H(o[t]);n=!1},d(t){t&&m(e);for(let t=0;t<o.length;t+=1)o[t].d();i&&i.d()}}}function Ot(e){let n;return{c(){n=g("p"),n.textContent=""+("en"===W?"No records found":"Aucun document trouvé")},m(t,e){f(t,n,e)},p:t,d(t){t&&m(n)}}}function Lt(t,e){let n,l,o;return l=new bt({props:{item:e[16]}}),{key:t,first:null,c(){n=y(),U(l.$$.fragment),this.first=n},m(t,e){f(t,n,e),q(l,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.item=e[16]),l.$set(o)},i(t){o||(B(l.$$.fragment,t),o=!0)},o(t){H(l.$$.fragment,t),o=!1},d(t){t&&m(n),J(l,t)}}}function jt(e){let n,l,o;return{c(){n=g("tr"),l=g("td"),l.textContent=""+("en"===W?"No documents in selection":"Aucun document sélectionné"),o=$()},m(t,e){f(t,n,e),d(n,l),d(n,o)},p:t,d(t){t&&m(n)}}}function Nt(e){let n,l,o;return{c(){n=g("tr"),l=g("td"),l.textContent=""+("en"===W?"No documents in selection":"Aucun document sélectionné"),o=$()},m(t,e){f(t,n,e),d(n,l),d(n,o)},p:t,d(t){t&&m(n)}}}function Ct(t){let e,n,l,o,r,s,c,i,u,a,p,h,y,_,w,S,A=t[12]+"",E=t[13].title+"";function O(){return t[7](t[12],t[8])}return{c(){e=g("tr"),n=g("th"),l=g("span"),o=b("#"),r=b(A),s=$(),c=g("td"),i=g("a"),u=b(E),p=$(),h=g("td"),y=g("button"),_=$(),x(l,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),x(n,"class","is-narrow is-3"),x(i,"href",a=t[13].url),x(i,"target","_blank"),x(y,"class","delete"),x(y,"aria-label","close"),x(h,"class","is-narrow")},m(t,a){f(t,e,a),d(e,n),d(n,l),d(l,o),d(l,r),d(e,s),d(e,c),d(c,i),d(i,u),d(e,p),d(e,h),d(h,y),d(e,_),w||(S=v(y,"click",O),w=!0)},p(e,n){t=e,4&n&&A!==(A=t[12]+"")&&k(r,A),4&n&&E!==(E=t[13].title+"")&&k(u,E),4&n&&a!==(a=t[13].url)&&x(i,"href",a)},d(t){t&&m(e),w=!1,S()}}}function Rt(t){let e,n,l,o,r,s,c=t[8]+"",i=Object.entries(t[9]),u=[];for(let e=0;e<i.length;e+=1)u[e]=Ct(St(t,i,e));let a=null;return i.length||(a=Nt()),{c(){e=g("h3"),n=b(c),l=$(),o=g("table"),r=g("tbody");for(let t=0;t<u.length;t+=1)u[t].c();a&&a.c(),s=$(),x(o,"class","table pl-2 is-fullwidth")},m(t,c){f(t,e,c),d(e,n),f(t,l,c),f(t,o,c),d(o,r);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(r,null);a&&a.m(r,null),d(o,s)},p(t,e){if(4&e&&c!==(c=t[8]+"")&&k(n,c),4&e){let n;for(i=Object.entries(t[9]),n=0;n<i.length;n+=1){const l=St(t,i,n);u[n]?u[n].p(l,e):(u[n]=Ct(l),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=i.length,!i.length&&a?a.p(t,e):i.length?a&&(a.d(1),a=null):(a=Nt(),a.c(),a.m(r,null))}},d(t){t&&m(e),t&&m(l),t&&m(o),p(u,t),a&&a.d()}}}function Pt(t){let e,n,l,o,r,s,c,i,u,a,h,y,v,_,w,S,A,E,O,L,j,N,C="en"===W?"Selected documents":"Documents sélectionnés";e=new vt({props:{selectionLength:t[1]}});let R=0!==t[0].length&&Et(t),P=t[2],I=[];for(let e=0;e<P.length;e+=1)I[e]=Rt(wt(t,P,e));let M=null;return P.length||(M=jt()),j=new _t({props:{isRegion:!1}}),{c(){U(e.$$.fragment),n=$(),R&&R.c(),l=$(),o=g("div"),r=g("div"),s=$(),c=g("div"),i=g("div"),u=g("div"),a=g("i"),h=$(),y=b(C),v=b("\n                ("),_=b(t[1]),w=b(")"),S=$(),A=g("button"),E=$(),O=g("section");for(let t=0;t<I.length;t+=1)I[t].c();M&&M.c(),L=$(),U(j.$$.fragment),x(r,"class","modal-background"),x(a,"class","fa-solid fa-book-bookmark"),x(u,"class","title is-4 mb-0 media-content"),x(A,"class","delete media-left"),x(A,"aria-label","close"),x(i,"class","modal-card-head media mb-0"),x(O,"class","modal-card-body"),x(c,"class","modal-content"),x(o,"id","selection-modal"),x(o,"class","modal fade"),x(o,"tabindex","-1"),x(o,"aria-labelledby","selection-modal-label"),x(o,"aria-hidden","true")},m(t,m){q(e,t,m),f(t,n,m),R&&R.m(t,m),f(t,l,m),f(t,o,m),d(o,r),d(o,s),d(o,c),d(c,i),d(i,u),d(u,a),d(u,h),d(u,y),d(u,v),d(u,_),d(u,w),d(i,S),d(i,A),d(c,E),d(c,O);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(O,null);M&&M.m(O,null),d(c,L),q(j,c,null),N=!0},p(t,[n]){const o={};if(2&n&&(o.selectionLength=t[1]),e.$set(o),0!==t[0].length?R?(R.p(t,n),1&n&&B(R,1)):(R=Et(t),R.c(),B(R,1),R.m(l.parentNode,l)):R&&(T(),H(R,1,1,(()=>{R=null})),z()),(!N||2&n)&&k(_,t[1]),4&n){let e;for(P=t[2],e=0;e<P.length;e+=1){const l=wt(t,P,e);I[e]?I[e].p(l,n):(I[e]=Rt(l),I[e].c(),I[e].m(O,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=P.length,!P.length&&M?M.p(t,n):P.length?M&&(M.d(1),M=null):(M=jt(),M.c(),M.m(O,null))}},i(t){N||(B(e.$$.fragment,t),B(R),B(j.$$.fragment,t),N=!0)},o(t){H(e.$$.fragment,t),H(R),H(j.$$.fragment,t),N=!1},d(t){J(e,t),t&&m(n),R&&R.d(t),t&&m(l),t&&m(o),p(I,t),M&&M.d(),J(j)}}}function It(t,e,n){let l,o,r,s;const{selected:c,nbSelected:i}=nt;a(t,c,(t=>n(6,s=t))),a(t,i,(t=>n(5,r=t)));let{records:u=[]}=e;return t.$$set=t=>{"records"in t&&n(0,u=t.records)},t.$$.update=()=>{64&t.$$.dirty&&n(2,l=s(!1)),32&t.$$.dirty&&n(1,o=r(!1))},[u,o,l,c,i,r,s,(t,e)=>nt.remove(t,e)]}const Mt=(Vt="record-data",document.getElementById(Vt)?JSON.parse(document.getElementById(Vt).textContent):[]);var Vt;return new class extends F{constructor(t){super(),Y(this,t,It,Pt,r,{records:0})}}({target:document.getElementById("record-list"),props:{records:Mt}})}();
//# sourceMappingURL=recordList.js.map
