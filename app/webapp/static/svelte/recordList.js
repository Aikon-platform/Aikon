var recordList=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,c;function i(t,e){return r||(r=document.createElement("a")),r.href=e,t===r.href}function a(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function u(t,e,n){t.$$.on_destroy.push(a(e,n))}function d(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function $(){return b(" ")}function y(){return b("")}function v(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function L(t){c=t}const w=[],S=[];let _=[];const A=[],O=Promise.resolve();let E=!1;function N(t){_.push(t)}const j=new Set;let z=0;function R(){if(0!==z)return;const t=c;do{try{for(;z<w.length;){const t=w[z];z++,L(t),C(t.$$)}}catch(t){throw w.length=0,z=0,t}for(L(null),w.length=0,z=0;S.length;)S.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];j.has(e)||(j.add(e),e())}_.length=0}while(w.length);for(;A.length;)A.pop()();E=!1,j.clear(),L(t)}function C(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const M=new Set;let P;function I(){P={r:0,c:[],p:P}}function T(){P.r||l(P.c),P=P.p}function V(t,e){t&&t.i&&(M.delete(t),t.i(e))}function B(t,e,n,l){if(t&&t.o){if(M.has(t))return;M.add(t),P.c.push((()=>{M.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}function H(t,e){B(t,1,1,(()=>{e.delete(t.key)}))}function D(t){t&&t.c()}function q(t,n,s,r){const{fragment:c,after_update:i}=t.$$;c&&c.m(n,s),r||N((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),i.forEach(N)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];_.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),_=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(w.push(t),E||(E=!0,O.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,o,s,r,i,a,u,d=[-1]){const f=c;L(e);const m=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};u&&u(m.root);let g=!1;if(m.ctx=s?s(e,o.props||{},((t,n,...l)=>{const o=l.length?l[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),g&&U(e,t)),n})):[],m.update(),g=!0,l(m.before_update),m.fragment=!!r&&r(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(p)}else m.fragment&&m.fragment.c();o.intro&&V(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),R()}L(f)}class Y{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t=null,e="full",n="full"){if(!t)return"https://via.placeholder.com/96x96?text=No+Image";if((t=t.split("_")).length<3)return"https://via.placeholder.com/96x96?text=No+Image";const l=t[t.length-1].includes(",")?t.pop().replace(".jpg",""):e,o=t.join("_").replace(".jpg","");return`${CANTALOUPE_APP_URL??"http://localhost:8182"}/iiif/2/${o}.jpg/${l}/${n}/0/default.jpg`}const F=[];function K(e,n=t){let l;const o=new Set;function r(t){if(s(e,t)&&(e=t,l)){const t=!F.length;for(const t of o)t[1](),F.push(t,e);if(t){for(let t=0;t<F.length;t+=2)F[t][0](F[t+1]);F.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const i=[s,c];return o.add(i),1===o.size&&(l=n(r)||t),s(e),()=>{o.delete(i),0===o.size&&l&&(l(),l=null)}}}}function Q(e,n,s){const r=!Array.isArray(e),c=r?[e]:e,i=n.length<2;return u=e=>{let s=!1;const u=[];let d=0,f=t;const p=()=>{if(d)return;f();const l=n(r?u[0]:u,e);i?e(l):f=o(l)?l:t},m=c.map(((t,e)=>a(t,(t=>{u[e]=t,d&=~(1<<e),s&&p()}),(()=>{d|=1<<e}))));return s=!0,p(),function(){l(m),f(),s=!1}},{subscribe:K(s,u).subscribe};var u}const W="Regions";const Z=function(){const t=K(JSON.parse(localStorage.getItem("documentSet"))||{}),{subscribe:e,get:n,update:l}=t,o=Q(t,(t=>e=>t[e.type]?.hasOwnProperty(e.id)||!1)),s=Q(t,(t=>e=>i(t,e))),r=Q(t,(t=>e=>{const n=i(t,e);return e?Object.keys(n).length:n.reduce(((t,[e,n])=>t+Object.keys(n).length),0)}));function c(t){localStorage.setItem("documentSet",JSON.stringify(t))}function i(t,e=!0){return e?t[W]??{}:Object.entries(t).filter((([t,e])=>t!==W))}function a(t,e,n){if(t[n]){const{[e]:l,...o}=t[n];t={...t,[n]:o}}return c(t),t}function u(t,e){return t.hasOwnProperty(e.type)||(t[e.type]={}),t[e.type]={...t[e.type],[e.id]:e},c(t),t}return{subscribe:e,save:()=>l((t=>(console.log(t),t))),empty:t=>l((e=>(t?delete e[W]:Object.keys(e).forEach((t=>{t!==W&&delete e[t]})),c(e),e))),addAll:t=>l((e=>function(t,e){return e.forEach((e=>{t[e.type]||(t[e.type]={}),t[e.type][e.id]=e})),c(t),t}(e,t))),removeAll:(t,e)=>l((n=>function(t,e,n){return t[n]?(e.forEach((e=>{delete t[n][e]})),c(t),t):t}(n,t,e))),remove:(t,e)=>l((n=>a(n,t,e))),add:t=>l((e=>u(e,t))),toggle:t=>l((e=>e[t.type]?.[t.id]?a(e,t.id,t.type):u(e,t))),toggleAll:(t,e,n)=>l((t=>{})),isSelected:o,selected:s,nbSelected:r}}();function tt(t,e,n){const l=t.slice();return l[6]=e[n][0],l[7]=e[n][1],l}function et(t,e,n){const l=t.slice();return l[10]=e[n],l}function nt(t){let e;return{c(){e=g("span"),e.innerHTML='<span class="icon has-text-success"><i class="fas fa-check-circle"></i></span> \n                                <span style="margin-left: -0.5rem">Public</span>',x(e,"class","pl-3 icon-text is-size-7 is-center has-text-weight-normal")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function lt(t){let e,n,l,o,s=t[0].hasOwnProperty("iiif"),r=t[0].buttons.includes("regions"),c=t[0].buttons.includes("similarity"),i=t[0].buttons.includes("vectorization"),a=s&&ot(t),u=r&&rt(t),m=c&&ct(t),h=i&&it(t);return{c(){e=g("p"),a&&a.c(),n=$(),u&&u.c(),l=$(),m&&m.c(),o=$(),h&&h.c(),x(e,"class","subtitle is-6 mb-0 ml-2 pt-2")},m(t,s){f(t,e,s),a&&a.m(e,null),d(e,n),u&&u.m(e,null),d(e,l),m&&m.m(e,null),d(e,o),h&&h.m(e,null)},p(t,d){1&d&&(s=t[0].hasOwnProperty("iiif")),s?a?a.p(t,d):(a=ot(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),1&d&&(r=t[0].buttons.includes("regions")),r?u?u.p(t,d):(u=rt(t),u.c(),u.m(e,l)):u&&(u.d(1),u=null),1&d&&(c=t[0].buttons.includes("similarity")),c?m?m.p(t,d):(m=ct(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),1&d&&(i=t[0].buttons.includes("vectorization")),i?h?h.p(t,d):(h=it(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},d(t){t&&p(e),a&&a.d(),u&&u.d(),m&&m.d(),h&&h.d()}}}function ot(t){let e,n=t[0].iiif,l=[];for(let e=0;e<n.length;e+=1)l[e]=st(et(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=y()},m(t,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,n);f(t,e,n)},p(t,o){if(1&o){let s;for(n=t[0].iiif,s=0;s<n.length;s+=1){const r=et(t,n,s);l[s]?l[s].p(r,o):(l[s]=st(r),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(t){m(l,t),t&&p(e)}}}function st(t){let e,n=t[10]+"";return{c(){e=g("span"),x(e,"class","tag logo mt-1")},m(t,l){f(t,e,l),e.innerHTML=n},p(t,l){1&l&&n!==(n=t[10]+"")&&(e.innerHTML=n)},d(t){t&&p(e)}}}function rt(t){let e,n,l,o;return{c(){e=g("a"),n=g("span"),x(n,"class","iconify"),x(n,"data-icon","entypo:documents"),x(e,"href",l=t[0].url+"regions/"),x(e,"class","button is-small is-rounded is-link px-2"),x(e,"title",o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")},m(t,l){f(t,e,l),d(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"regions/")&&x(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show extracted regions":"Afficher les zones d'images")&&x(e,"title",o)},d(t){t&&p(e)}}}function ct(t){let e,n,l,o;return{c(){e=g("a"),n=g("span"),x(n,"class","iconify"),x(n,"data-icon","octicon:mirror-16"),x(e,"href",l=t[0].url+"similarity/"),x(e,"class","button is-small is-rounded is-link px-2"),x(e,"title",o="en"===t[1]?"Show similarity":"Afficher les similarités")},m(t,l){f(t,e,l),d(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"similarity/")&&x(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show similarity":"Afficher les similarités")&&x(e,"title",o)},d(t){t&&p(e)}}}function it(t){let e,n,l,o;return{c(){e=g("a"),n=g("span"),x(n,"class","iconify"),x(n,"data-icon","arcticons:geogebra-geometry"),x(e,"href",l=t[0].url+"vectorization/"),x(e,"class","button is-small is-rounded is-link px-2"),x(e,"title",o="en"===t[1]?"Show vectorizations":"Afficher les vectorisations")},m(t,l){f(t,e,l),d(e,n)},p(t,n){1&n&&l!==(l=t[0].url+"vectorization/")&&x(e,"href",l),2&n&&o!==(o="en"===t[1]?"Show vectorizations":"Afficher les vectorisations")&&x(e,"title",o)},d(t){t&&p(e)}}}function at(t){let e,n,l=t[2]?"Retirer de":"Ajouter à la";return{c(){e=b(l),n=b(" sélection")},m(t,l){f(t,e,l),f(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Retirer de":"Ajouter à la")&&k(e,l)},d(t){t&&p(e),t&&p(n)}}}function ut(t){let e,n,l=t[2]?"Remove from":"Add to";return{c(){e=b(l),n=b(" selection")},m(t,l){f(t,e,l),f(t,n,l)},p(t,n){4&n&&l!==(l=t[2]?"Remove from":"Add to")&&k(e,l)},d(t){t&&p(e),t&&p(n)}}}function dt(t){let e;return{c(){e=h("path"),x(e,"fill","currentColor"),x(e,"d","M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function ft(t){let e;return{c(){e=h("path"),x(e,"fill","currentColor"),x(e,"d","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function pt(t){let e,n,l,o,s,r,c,i=t[6]+"",a=t[7]+"";return{c(){e=g("tr"),n=g("th"),l=b(i),o=$(),s=g("td"),r=b(a),c=$(),x(n,"class","is-narrow is-3")},m(t,i){f(t,e,i),d(e,n),d(n,l),d(e,o),d(e,s),d(s,r),d(e,c)},p(t,e){1&e&&i!==(i=t[6]+"")&&k(l,i),1&e&&a!==(a=t[7]+"")&&k(r,a)},d(t){t&&p(e)}}}function mt(e){let n,l,o,s,r,c,a,u,y,L,w,S,_,A,O,E,N,j,z,R,C,M,P,I,T,V,B,H,D,q,J,U,X,Y,F,K,Q,W,Z=e[0].type+"",et=e[0].id+"",ot=e[0].title+"",st=e[0].user+"",rt=e[0].updated_at+"",ct=e[0].is_public&&nt(),it=0!==e[0].buttons.length&&lt(e);function mt(t,e){return"en"===t[1]?ut:at}let gt=mt(e),ht=gt(e);function bt(t,e){return t[2]?ft:dt}let $t=bt(e),yt=$t(e),vt=Object.entries(e[0].metadata),xt=[];for(let t=0;t<vt.length;t+=1)xt[t]=pt(tt(e,vt,t));return{c(){n=g("div"),l=g("div"),o=g("div"),s=g("div"),r=g("div"),c=g("figure"),a=g("img"),y=$(),L=g("div"),w=g("a"),S=g("span"),_=b(Z),A=b(" #"),O=b(et),E=$(),N=b(ot),j=$(),ct&&ct.c(),R=$(),C=g("p"),M=b(st),P=$(),I=g("span"),T=b(rt),V=$(),it&&it.c(),B=$(),H=g("div"),D=g("button"),ht.c(),q=$(),J=h("svg"),yt.c(),X=$(),Y=g("div"),F=g("table"),K=g("tbody");for(let t=0;t<xt.length;t+=1)xt[t].c();i(a.src,u=G(e[0].img,"full","250,"))||x(a,"src",u),x(a,"alt","Record illustration"),x(c,"class","card image is-96x96 svelte-xqp9nk"),x(r,"class","media-left"),x(S,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),x(w,"href",z=e[0].url),x(w,"class","title is-4 hoverable pt-2 svelte-xqp9nk"),x(I,"class","tag p-1 mb-1"),x(C,"class","subtitle is-6 mb-0 ml-2 pt-2"),x(L,"class","media-content"),x(J,"xmlns","http://www.w3.org/2000/svg"),x(J,"viewBox","0 0 384 512"),x(J,"class","svelte-xqp9nk"),x(D,"class",U="button "+(e[2]?"is-inverted":"")),x(H,"class","media-right"),x(s,"class","media"),x(F,"class","table pl-2 is-fullwidth"),x(Y,"class","content"),x(o,"class","card-content"),x(l,"class","card"),x(n,"class","item")},m(t,i){f(t,n,i),d(n,l),d(l,o),d(o,s),d(s,r),d(r,c),d(c,a),d(s,y),d(s,L),d(L,w),d(w,S),d(S,_),d(S,A),d(S,O),d(w,E),d(w,N),d(w,j),ct&&ct.m(w,null),d(L,R),d(L,C),d(C,M),d(C,P),d(C,I),d(I,T),d(L,V),it&&it.m(L,null),d(s,B),d(s,H),d(H,D),ht.m(D,null),d(D,q),d(D,J),yt.m(J,null),d(o,X),d(o,Y),d(Y,F),d(F,K);for(let t=0;t<xt.length;t+=1)xt[t]&&xt[t].m(K,null);Q||(W=v(D,"click",e[5]),Q=!0)},p(t,[e]){if(1&e&&!i(a.src,u=G(t[0].img,"full","250,"))&&x(a,"src",u),1&e&&Z!==(Z=t[0].type+"")&&k(_,Z),1&e&&et!==(et=t[0].id+"")&&k(O,et),1&e&&ot!==(ot=t[0].title+"")&&k(N,ot),t[0].is_public?ct||(ct=nt(),ct.c(),ct.m(w,null)):ct&&(ct.d(1),ct=null),1&e&&z!==(z=t[0].url)&&x(w,"href",z),1&e&&st!==(st=t[0].user+"")&&k(M,st),1&e&&rt!==(rt=t[0].updated_at+"")&&k(T,rt),0!==t[0].buttons.length?it?it.p(t,e):(it=lt(t),it.c(),it.m(L,null)):it&&(it.d(1),it=null),gt===(gt=mt(t))&&ht?ht.p(t,e):(ht.d(1),ht=gt(t),ht&&(ht.c(),ht.m(D,q))),$t!==($t=bt(t))&&(yt.d(1),yt=$t(t),yt&&(yt.c(),yt.m(J,null))),4&e&&U!==(U="button "+(t[2]?"is-inverted":""))&&x(D,"class",U),1&e){let n;for(vt=Object.entries(t[0].metadata),n=0;n<vt.length;n+=1){const l=tt(t,vt,n);xt[n]?xt[n].p(l,e):(xt[n]=pt(l),xt[n].c(),xt[n].m(K,null))}for(;n<xt.length;n+=1)xt[n].d(1);xt.length=vt.length}},i:t,o:t,d(t){t&&p(n),ct&&ct.d(),it&&it.d(),ht.d(),yt.d(),m(xt,t),Q=!1,W()}}}function gt(t,e,n){let l,o;const{isSelected:s}=Z;u(t,s,(t=>n(4,o=t)));let{item:r}=e,{appLang:c}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item),"appLang"in t&&n(1,c=t.appLang)},t.$$.update=()=>{17&t.$$.dirty&&n(2,l=o(r))},[r,c,l,s,o,()=>Z.toggle(r)]}class ht extends Y{constructor(t){super(),X(this,t,gt,mt,s,{item:0,appLang:1})}}function bt(e){let n,l,o,s,r,c,i,a,u,m="en"===e[1]?"Selection":"Sélection";return{c(){n=g("div"),l=g("button"),o=g("span"),s=g("i"),r=$(),c=b(m),i=b("\n            ("),a=b(e[0]),u=b(")"),x(s,"class","fa-solid fa-book-bookmark"),x(o,"id","btn-content"),x(l,"id","set-btn"),x(l,"class","button px-5 py-4 is-link js-modal-trigger svelte-hs48f9"),x(l,"data-target","selection-modal"),x(n,"class","set-container svelte-hs48f9")},m(t,e){f(t,n,e),d(n,l),d(l,o),d(o,s),d(o,r),d(o,c),d(o,i),d(o,a),d(o,u)},p(t,[e]){2&e&&m!==(m="en"===t[1]?"Selection":"Sélection")&&k(c,m),1&e&&k(a,t[0])},i:t,o:t,d(t){t&&p(n)}}}function $t(t,e,n){let{selectionLength:l=0}=e,{appLang:o="en"}=e,s=l;return t.$$set=t=>{"selectionLength"in t&&n(0,l=t.selectionLength),"appLang"in t&&n(1,o=t.appLang)},t.$$.update=()=>{if(5&t.$$.dirty&&l!==s){const t=l>s;n(2,s=l);const e=document.getElementById("btn-content");e&&e.animate([{transform:t?"translateY(-7px)":"translateX(-5px)"},{transform:t?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[l,o,s]}class yt extends Y{constructor(t){super(),X(this,t,$t,bt,s,{selectionLength:0,appLang:1})}}function vt(e){let n,o,s,r,c,i,a,u,m,h,y,L="en"===e[0]?"Clear selection":"Vider la sélection",w="en"===e[0]?"Save selection":"Sauvegarder la sélection";return{c(){n=g("footer"),o=g("div"),s=g("button"),r=b(L),c=$(),i=g("button"),a=g("i"),u=$(),m=b(w),x(s,"class","button is-link is-light"),x(a,"class","fa-solid fa-floppy-disk"),x(i,"class","button is-link"),x(o,"class","buttons"),x(n,"class","modal-card-foot is-center")},m(t,l){f(t,n,l),d(n,o),d(o,s),d(s,r),d(o,c),d(o,i),d(i,a),d(i,u),d(i,m),h||(y=[v(s,"click",e[2]),v(i,"click",e[3])],h=!0)},p(t,[e]){1&e&&L!==(L="en"===t[0]?"Clear selection":"Vider la sélection")&&k(r,L),1&e&&w!==(w="en"===t[0]?"Save selection":"Sauvegarder la sélection")&&k(m,w)},i:t,o:t,d(t){t&&p(n),h=!1,l(y)}}}function xt(t,e,n){let{appLang:l="en"}=e,{isRegion:o=!0}=e;return t.$$set=t=>{"appLang"in t&&n(0,l=t.appLang),"isRegion"in t&&n(1,o=t.isRegion)},[l,o,()=>Z.empty(o),()=>Z.save()]}class kt extends Y{constructor(t){super(),X(this,t,xt,vt,s,{appLang:0,isRegion:1})}}function Lt(t,e,n){const l=t.slice();return l[10]=e[n][0],l[11]=e[n][1],l}function wt(t,e,n){const l=t.slice();return l[14]=e[n][0],l[15]=e[n][1],l}function St(t,e,n){const l=t.slice();return l[18]=e[n],l}function _t(t){let e,n,o=[],s=new Map,r=t[0];const c=t=>t[18].id;for(let e=0;e<r.length;e+=1){let n=St(t,r,e),l=c(n);s.set(l,o[e]=Ot(l,n))}let i=null;return r.length||(i=At(t)),{c(){e=g("div");for(let t=0;t<o.length;t+=1)o[t].c();i&&i.c()},m(t,l){f(t,e,l);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);i&&i.m(e,null),n=!0},p(t,n){3&n&&(r=t[0],I(),o=function(t,e,n,o,s,r,c,i,a,u,d,f){let p=t.length,m=r.length,g=p;const h={};for(;g--;)h[t[g].key]=g;const b=[],$=new Map,y=new Map,v=[];for(g=m;g--;){const t=f(s,r,g),l=n(t);let i=c.get(l);i?o&&v.push((()=>i.p(t,e))):(i=u(l,t),i.c()),$.set(l,b[g]=i),l in h&&y.set(l,Math.abs(g-h[l]))}const x=new Set,k=new Set;function L(t){V(t,1),t.m(i,d),c.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=b[m-1],n=t[p-1],l=e.key,o=n.key;e===n?(d=e.first,p--,m--):$.has(o)?!c.has(l)||x.has(l)?L(e):k.has(o)?p--:y.get(l)>y.get(o)?(k.add(l),L(e)):(x.add(o),p--):(a(n,c),p--)}for(;p--;){const e=t[p];$.has(e.key)||a(e,c)}for(;m;)L(b[m-1]);return l(v),b}(o,n,c,1,t,r,s,e,H,Ot,null,St),T(),!r.length&&i?i.p(t,n):r.length?i&&(i.d(1),i=null):(i=At(t),i.c(),i.m(e,null)))},i(t){if(!n){for(let t=0;t<r.length;t+=1)V(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)B(o[t]);n=!1},d(t){t&&p(e);for(let t=0;t<o.length;t+=1)o[t].d();i&&i.d()}}}function At(t){let e,n,l="en"===t[1]?"No records found":"Aucun document trouvé";return{c(){e=g("p"),n=b(l)},m(t,l){f(t,e,l),d(e,n)},p(t,e){2&e&&l!==(l="en"===t[1]?"No records found":"Aucun document trouvé")&&k(n,l)},d(t){t&&p(e)}}}function Ot(t,e){let n,l,o;return l=new ht({props:{item:e[18],appLang:e[1]}}),{key:t,first:null,c(){n=y(),D(l.$$.fragment),this.first=n},m(t,e){f(t,n,e),q(l,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.item=e[18]),2&n&&(o.appLang=e[1]),l.$set(o)},i(t){o||(V(l.$$.fragment,t),o=!0)},o(t){B(l.$$.fragment,t),o=!1},d(t){t&&p(n),J(l,t)}}}function Et(t){let e,n,l,o,s="en"===t[1]?"No documents in selection":"Aucun document sélectionné";return{c(){e=g("tr"),n=g("td"),l=b(s),o=$()},m(t,s){f(t,e,s),d(e,n),d(n,l),d(e,o)},p(t,e){2&e&&s!==(s="en"===t[1]?"No documents in selection":"Aucun document sélectionné")&&k(l,s)},d(t){t&&p(e)}}}function Nt(t){let e,n,l,o,s="en"===t[1]?"No documents in selection":"Aucun document sélectionné";return{c(){e=g("tr"),n=g("td"),l=b(s),o=$()},m(t,s){f(t,e,s),d(e,n),d(n,l),d(e,o)},p(t,e){2&e&&s!==(s="en"===t[1]?"No documents in selection":"Aucun document sélectionné")&&k(l,s)},d(t){t&&p(e)}}}function jt(t){let e,n,l,o,s,r,c,i,a,u,m,h,y,L,w,S,_=t[14]+"",A=t[15].title+"";function O(){return t[9](t[14],t[10])}return{c(){e=g("tr"),n=g("th"),l=g("span"),o=b("#"),s=b(_),r=$(),c=g("td"),i=g("a"),a=b(A),m=$(),h=g("td"),y=g("button"),L=$(),x(l,"class","tag px-2 py-1 mb-1 is-dark is-rounded"),x(n,"class","is-narrow is-3"),x(i,"href",u=t[15].url),x(i,"target","_blank"),x(y,"class","delete"),x(y,"aria-label","close"),x(h,"class","is-narrow")},m(t,u){f(t,e,u),d(e,n),d(n,l),d(l,o),d(l,s),d(e,r),d(e,c),d(c,i),d(i,a),d(e,m),d(e,h),d(h,y),d(e,L),w||(S=v(y,"click",O),w=!0)},p(e,n){t=e,8&n&&_!==(_=t[14]+"")&&k(s,_),8&n&&A!==(A=t[15].title+"")&&k(a,A),8&n&&u!==(u=t[15].url)&&x(i,"href",u)},d(t){t&&p(e),w=!1,S()}}}function zt(t){let e,n,l,o,s,r,c=t[10]+"",i=Object.entries(t[11]),a=[];for(let e=0;e<i.length;e+=1)a[e]=jt(wt(t,i,e));let u=null;return i.length||(u=Nt(t)),{c(){e=g("h3"),n=b(c),l=$(),o=g("table"),s=g("tbody");for(let t=0;t<a.length;t+=1)a[t].c();u&&u.c(),r=$(),x(o,"class","table pl-2 is-fullwidth")},m(t,c){f(t,e,c),d(e,n),f(t,l,c),f(t,o,c),d(o,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,null);u&&u.m(s,null),d(o,r)},p(t,e){if(8&e&&c!==(c=t[10]+"")&&k(n,c),10&e){let n;for(i=Object.entries(t[11]),n=0;n<i.length;n+=1){const l=wt(t,i,n);a[n]?a[n].p(l,e):(a[n]=jt(l),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length,!i.length&&u?u.p(t,e):i.length?u&&(u.d(1),u=null):(u=Nt(t),u.c(),u.m(s,null))}},d(t){t&&p(e),t&&p(l),t&&p(o),m(a,t),u&&u.d()}}}function Rt(t){let e,n,l,o,s,r,c,i,a,u,h,y,v,L,w,S,_,A,O,E,N,j,z="en"===t[1]?"Selected documents":"Documents sélectionnés";e=new yt({props:{selectionLength:t[2],appLang:t[1]}});let R=0!==t[0].length&&_t(t),C=t[3],M=[];for(let e=0;e<C.length;e+=1)M[e]=zt(Lt(t,C,e));let P=null;return C.length||(P=Et(t)),N=new kt({props:{appLang:t[1],isRegion:!1}}),{c(){D(e.$$.fragment),n=$(),R&&R.c(),l=$(),o=g("div"),s=g("div"),r=$(),c=g("div"),i=g("div"),a=g("div"),u=g("i"),h=$(),y=b(z),v=b("\n                ("),L=b(t[2]),w=b(")"),S=$(),_=g("button"),A=$(),O=g("section");for(let t=0;t<M.length;t+=1)M[t].c();P&&P.c(),E=$(),D(N.$$.fragment),x(s,"class","modal-background"),x(u,"class","fa-solid fa-book-bookmark"),x(a,"class","title is-4 mb-0 media-content"),x(_,"class","delete media-left"),x(_,"aria-label","close"),x(i,"class","modal-card-head media mb-0"),x(O,"class","modal-card-body"),x(c,"class","modal-content"),x(o,"id","selection-modal"),x(o,"class","modal fade"),x(o,"tabindex","-1"),x(o,"aria-labelledby","selection-modal-label"),x(o,"aria-hidden","true")},m(t,p){q(e,t,p),f(t,n,p),R&&R.m(t,p),f(t,l,p),f(t,o,p),d(o,s),d(o,r),d(o,c),d(c,i),d(i,a),d(a,u),d(a,h),d(a,y),d(a,v),d(a,L),d(a,w),d(i,S),d(i,_),d(c,A),d(c,O);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(O,null);P&&P.m(O,null),d(c,E),q(N,c,null),j=!0},p(t,[n]){const o={};if(4&n&&(o.selectionLength=t[2]),2&n&&(o.appLang=t[1]),e.$set(o),0!==t[0].length?R?(R.p(t,n),1&n&&V(R,1)):(R=_t(t),R.c(),V(R,1),R.m(l.parentNode,l)):R&&(I(),B(R,1,1,(()=>{R=null})),T()),(!j||2&n)&&z!==(z="en"===t[1]?"Selected documents":"Documents sélectionnés")&&k(y,z),(!j||4&n)&&k(L,t[2]),10&n){let e;for(C=t[3],e=0;e<C.length;e+=1){const l=Lt(t,C,e);M[e]?M[e].p(l,n):(M[e]=zt(l),M[e].c(),M[e].m(O,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=C.length,!C.length&&P?P.p(t,n):C.length?P&&(P.d(1),P=null):(P=Et(t),P.c(),P.m(O,null))}const s={};2&n&&(s.appLang=t[1]),N.$set(s)},i(t){j||(V(e.$$.fragment,t),V(R),V(N.$$.fragment,t),j=!0)},o(t){B(e.$$.fragment,t),B(R),B(N.$$.fragment,t),j=!1},d(t){J(e,t),t&&p(n),R&&R.d(t),t&&p(l),t&&p(o),m(M,t),P&&P.d(),J(N)}}}function Ct(t,e,n){let l,o,s,r;const{selected:c,nbSelected:i}=Z;u(t,c,(t=>n(8,r=t))),u(t,i,(t=>n(7,s=t)));let{records:a=[]}=e,{appLang:d="en"}=e;return t.$$set=t=>{"records"in t&&n(0,a=t.records),"appLang"in t&&n(1,d=t.appLang)},t.$$.update=()=>{256&t.$$.dirty&&n(3,l=r(!1)),128&t.$$.dirty&&n(2,o=s(!1))},[a,d,o,l,c,i,"Regions",s,r,(t,e)=>Z.remove(t,e)]}const Mt=(Pt="record-data",document.getElementById(Pt)?JSON.parse(document.getElementById(Pt).textContent):[]);var Pt;return new class extends Y{constructor(t){super(),X(this,t,Ct,Rt,s,{regionsType:6,records:0,appLang:1})}get regionsType(){return this.$$.ctx[6]}}({target:document.getElementById("record-list"),props:{records:Mt,appLang:APP_LANG,modules:ADDITIONAL_MODULES,regionsType:"Regions"}})}();
//# sourceMappingURL=recordList.js.map
